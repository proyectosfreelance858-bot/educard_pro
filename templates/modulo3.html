<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle">Módulo Ultra-Dinámico: Geometría Básica (G) | EDUCARD SAS</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700;800&family=Instrument+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
    <style>
        /* ================================================================= */
        /* --- 1. VARIABLES, RESET Y ESTILOS GLOBALES (Minimalista y Dinámico) --- */
        /* ================================================================= */
        :root {
            --color-primary: #5c67ff; /* Azul Educard */
            --color-primary-light: #8e96ff;
            --color-primary-dark: #4b54ff; 
            --color-secondary: #ffc107; /* Amarillo Destacado */
            --color-background: #f0f3f8; /* Fondo más frío y moderno */
            --color-surface: #ffffff; /* Superficie Blanca */
            --color-text-dark: #1f2937; /* Texto Principal (Casi negro) */
            --color-text-subtle: #6b7280; /* Texto Secundario */
            --color-border: #e5e7eb;
            --color-success: #10b981; /* Verde más vibrante */
            --color-danger: #ef4444; /* Rojo moderno */
            --color-shadow-primary: rgba(92, 103, 255, 0.25);
            --font-heading: 'Outfit', sans-serif;
            --font-body: 'Instrument Sans', sans-serif;
            --header-height: 80px;
            --step-transition-duration: 0.6s; 
        }

        /* Reset Básico */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body { 
            font-family: var(--font-body); 
            color: var(--color-text-dark); 
            background-color: var(--color-background); 
            line-height: 1.7; 
            overflow-x: hidden; 
            padding-top: var(--header-height); 
        }

        /* Contenedor y Tipografía */
        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 0 5%; 
        }
        h1, h2, h3, h4 { 
            font-family: var(--font-heading); 
            font-weight: 700; 
            line-height: 1.2; 
        }
        h1 { font-size: 3.2rem; }
        
        /* DISEÑO DE TÍTULOS MINIMALISTA */
        h2 { 
            font-size: 2.5rem; 
            color: var(--color-text-dark); 
            padding-bottom: 5px;
            border-bottom: 4px solid var(--color-primary-light); /* Subrayado sutil */
            display: inline-block; 
            margin-bottom: 20px;
        }
        h3 { 
            font-size: 1.8rem; 
            color: var(--color-primary-dark); 
            margin-top: 30px; 
            font-weight: 700;
        }
        h4 { 
            font-size: 1.3rem; 
            color: var(--color-text-dark); 
            margin-top: 20px; 
            font-weight: 600; 
            border-left: 5px solid var(--color-secondary); /* Pequeño acento */
            padding-left: 15px;
        }
        p { margin-bottom: 15px; }

        .section-header { text-align: center; margin-bottom: 50px; }
        .section-title { font-size: 2.8rem; font-weight: 800; margin-bottom: 15px; }
        .section-subtitle { font-size: 1.2rem; color: var(--color-text-subtle); max-width: 800px; margin: 0 auto; }
        
        /* Botones (CTA) - Se mantienen dinámicos */
        .btn {
            display: inline-flex; 
            align-items: center;
            gap: 8px;
            padding: 14px 28px; 
            border-radius: 10px; 
            text-decoration: none; 
            font-weight: 700; 
            font-size: 1rem; 
            transition: background-color 0.3s ease, transform 0.2s, box-shadow 0.3s; 
            border: none; 
            cursor: pointer;
        }

        .btn-primary {
            background-color: var(--color-primary); 
            color: white;
            box-shadow: 0 6px 15px var(--color-shadow-primary);
        }
        .btn-primary:hover { 
            background-color: var(--color-primary-dark); 
            transform: translateY(-2px); 
            box-shadow: 0 8px 20px var(--color-shadow-primary); 
        }

        .btn-outline {
            background-color: transparent;
            color: var(--color-primary);
            border: 2px solid var(--color-primary);
            box-shadow: none;
        }
        .btn-outline:hover {
            background-color: var(--color-primary);
            color: white;
        }

        /* DISEÑO DE TARJETAS MINIMALISTA Y DINÁMICO */
        .card {
            background-color: var(--color-surface);
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05); /* Sombra ligera */
            margin-bottom: 25px;
            border: 1px solid var(--color-border); /* Borde sutil */
            border-left: 6px solid var(--color-primary); /* Fuerte acento de color primario */
            transition: transform 0.3s ease, box-shadow 0.3s ease; /* Efecto dinámico */
            animation: fadeIn 0.8s ease-out; /* Animación de entrada */
        }
        .card:hover {
             transform: translateY(-3px); /* Efecto levitación */
             box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .alert {
            padding: 18px;
            border-radius: 10px;
            margin-top: 25px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .alert i { font-size: 1.4rem; }
        .alert-info { background-color: #e0f2fe; color: #0284c7; border: 1px solid #7dd3fc; }
        .alert-success { background-color: #d1fae5; color: var(--color-success); border: 1px solid #a7f3d0; }
        .alert-danger { background-color: #fee2e2; color: var(--color-danger); border: 1px solid #fecaca; }
        .alert-warning { background-color: #fffbeb; color: #d97706; border: 1px solid #fcd34d; }

        /* Estilos para las Tablas de Fórmulas */
        .formula-table {
            width: 100%;
            margin: 30px auto;
            border-collapse: separate;
            border-spacing: 0 12px; 
            font-family: var(--font-body);
            font-size: 1.1rem;
            text-align: left;
        }
        .formula-table th, .formula-table td {
            padding: 18px 25px;
            background-color: var(--color-surface);
            border: 1px solid var(--color-border);
        }
        .formula-table th {
            background-color: var(--color-primary);
            color: white;
            font-weight: 700;
            border: none;
            text-align: center;
            font-size: 1.2rem;
        }
        .formula-table th:first-child { border-top-left-radius: 10px; }
        .formula-table th:last-child { border-top-right-radius: 10px; }
        
        .formula-table tbody tr {
            transition: background-color 0.3s;
        }
        .formula-table tbody tr:hover {
            background-color: #f7f7f7;
        }
        .formula-table td:nth-child(2) {
            font-family: var(--font-heading);
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--color-danger); /* Color para las fórmulas */
            text-align: center;
        }


        /* ========================================= */
        /* --- 2. HEADER --- */
        /* ========================================= */
        header {
            position: fixed; top: 0; left: 0; width: 100%; height: var(--header-height);
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 3%; 
            background-color: var(--color-surface);
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1); z-index: 1000;
        }
        .logo-container { text-decoration: none; display: flex; align-items: center; }
        .logo-img { height: 35px; margin-right: 10px; content: url('https://i.postimg.cc/t4tVr741/54c82322-2df7-4887-abc0-da706407fcd4-2.png'); } 
        .site-name { font-family: var(--font-heading); font-size: 1.4rem; font-weight: 700; color: var(--color-text-dark); }
        nav ul { list-style: none; display: flex; }
        nav ul li { margin-left: 35px; }
        nav ul li a { text-decoration: none; color: var(--color-text-dark); font-weight: 500; padding: 10px 0; display: block; transition: color 0.3s ease; }
        nav ul li a:hover { color: var(--color-primary); font-weight: 600; border-bottom: 2px solid var(--color-primary); padding-bottom: 8px; }
        
        /* Nuevos Estilos para el Selector de Idioma */
        .header-actions {
            display: flex;
            align-items: center; /* Alineación horizontal de bandera y botón */
        }
        .language-selector {
            position: relative;
            display: flex;
            align-items: center;
            cursor: pointer;
            padding: 10px;
            border-radius: 8px;
            margin-right: 15px; 
            transition: background-color 0.3s;
        }
        .language-selector:hover {
            background-color: #f0f3f8; /* Efecto hover sutil */
        }
        .current-flag img {
            width: 28px;
            height: 20px;
            border-radius: 3px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        }
        .language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: var(--color-surface);
            border: 1px solid var(--color-border);
            border-radius: 8px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
            z-index: 1001;
            min-width: 150px;
            display: none;
            padding: 8px 0;
            margin-top: 5px;
        }
        .language-dropdown.active {
            display: block;
        }
        .language-dropdown a {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            text-decoration: none;
            color: var(--color-text-dark);
            font-size: 0.95rem;
        }
        .language-dropdown a:hover {
            background-color: var(--color-background);
        }
        .language-dropdown a img {
            width: 24px;
            height: 18px;
            border-radius: 3px;
            margin-right: 10px;
        }

        .header-actions a.header-button {
            padding: 10px 20px; background-color: var(--color-primary); color: white;
            border-radius: 8px; text-decoration: none; font-weight: 600; font-size: 0.95rem;
            transition: background-color 0.3s, transform 0.2s;
        }
        .header-actions a.header-button:hover { background-color: var(--color-primary-dark); transform: translateY(-1px); }

        /* ========================================= */
        /* --- 3. ESTRUCTURA DINÁMICA DE PASOS --- */
        /* ========================================= */
        .module-wrapper { padding-top: 40px; }
        
        .progress-bar-container {
            width: 100%;
            background-color: var(--color-border);
            border-radius: 5px;
            margin-bottom: 40px;
            height: 12px;
        }
        .progress-bar {
            height: 100%;
            background-color: var(--color-success);
            border-radius: 5px;
            transition: width 0.6s cubic-bezier(0.2, 0.8, 0.2, 1); 
            width: 0%;
        }
        
        .step-content {
            background-color: var(--color-surface);
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
            min-height: 650px; 
            display: none; 
            opacity: 0;
            transform: scale(0.95) translateX(20px); 
            transition: opacity var(--step-transition-duration) ease, transform var(--step-transition-duration) ease;
        }

        .step-content.active {
            display: block;
            opacity: 1;
            transform: scale(1) translateX(0);
        }

        .step-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 20px;
        }
        .step-navigation button:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            box-shadow: none;
        }

        /* Estilo para el Dato Curioso */
        .curious-fact {
            margin-top: 35px;
            padding: 25px;
            background-color: #ecfdf5; /* Color suave de éxito */
            border-radius: 10px;
            font-size: 1rem;
            color: var(--color-text-dark);
            border-left: 5px solid var(--color-success);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            font-weight: 500;
        }
        .curious-fact strong {
            color: var(--color-primary-dark);
        }

        /* Estilos para el código de ejemplo */
        .example-code {
            background-color: #f3f4f6;
            color: var(--color-text-dark);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-family: monospace;
            white-space: pre-wrap;
            border: 1px solid var(--color-border);
            line-height: 1.5;
        }
        .example-code strong { color: var(--color-primary-dark); }
        .example-code .step-label { color: var(--color-secondary); font-weight: 700; }

        /* Contenedor de Video */
        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* Relación 16:9 */
            height: 0;
            overflow: hidden;
            max-width: 100%;
            background: #000;
            margin-bottom: 25px;
            border-radius: 10px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .content-image {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        /* Estilos de la Evaluación Final */
        #quiz-form label {
            display: block;
            font-size: 1.1rem;
            font-weight: 600;
            margin: 25px 0 10px;
            color: var(--color-primary-dark);
        }
        #quiz-form input[type="text"],
        #quiz-form input[type="number"],
        #quiz-form select {
            width: 100%;
            padding: 12px;
            margin-top: 5px;
            border: 2px solid var(--color-border);
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        #quiz-form input:focus, #quiz-form select:focus {
            outline: none;
            border-color: var(--color-primary-light);
            box-shadow: 0 0 0 3px rgba(92, 103, 255, 0.2);
        }
        #quiz-form .radio-group, #quiz-form .true-false-group {
            display: flex;
            gap: 20px;
            margin-top: 10px;
        }
        #quiz-form .option-box {
            background-color: var(--color-background);
            padding: 15px 20px;
            border-radius: 8px;
            border: 1px solid var(--color-border);
            cursor: pointer;
            transition: all 0.2s;
            flex-grow: 1;
            text-align: center;
            font-weight: 600;
            color: var(--color-text-dark);
        }
        #quiz-form .option-box:hover {
            background-color: #e5e7eb;
        }
        #quiz-form input[type="radio"] {
            display: none;
        }
        #quiz-form input[type="radio"]:checked + .option-box {
            background-color: var(--color-primary);
            color: white;
            border-color: var(--color-primary-dark);
            box-shadow: 0 3px 8px var(--color-shadow-primary);
        }
        .incorrect-answer { border: 2px solid var(--color-danger) !important; animation: shake 0.5s; }
        .correct-answer { border: 2px solid var(--color-success) !important; }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-5px); }
            40%, 80% { transform: translateX(5px); }
        }

        /* Summary Box */
        #quiz-result-summary {
            margin-top: 30px;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            font-size: 1.5rem;
            font-family: var(--font-heading);
            font-weight: 700;
            display: none;
            transition: opacity 0.5s ease;
        }
        .summary-success { background-color: #ecfdf5; color: var(--color-success); border: 2px solid #a7f3d0; }
        .summary-fail { background-color: #fef2f2; color: var(--color-danger); border: 2px solid #fecaca; }

        /* FOOTER ESTILOS */
        footer {
            background-color: #1a202c; /* Darker background for footer */
            color: #e2e8f0;
            padding: 50px 0 20px 0;
            margin-top: 60px;
        }
        .footer-grid {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 40px;
            margin-bottom: 40px;
        }
        .footer-about h5 {
            color: white;
            font-size: 1.4rem;
            margin-bottom: 15px;
            font-family: var(--font-heading);
            font-weight: 700;
        }
        .footer-about p {
            font-size: 0.95rem;
            line-height: 1.8;
            color: #ccc;
        }
        .footer-links h5 {
            font-family: var(--font-heading);
            font-size: 1.1rem;
            margin-bottom: 20px;
            font-weight: 700;
            color: var(--color-secondary);
        }
        .footer-links ul {
            list-style: none;
        }
        .footer-links ul li {
            margin-bottom: 10px;
        }
        .footer-links ul li a {
            color: #ccc;
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.3s;
        }
        .footer-links ul li a:hover {
            color: var(--color-primary-light);
        }
        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #2d3748;
            font-size: 0.8rem;
            color: #a0aec0;
        }
        .footer-about strong {
            color: var(--color-secondary);
        }
        /* Media Queries para Responsive Design */
        @media (max-width: 1024px) {
            h1 { font-size: 2.5rem; }
            h2 { font-size: 2rem; }
            .step-content { padding: 40px; }
            nav { display: none; } /* Ocultar nav en pantallas pequeñas (usar menú hamburguesa) */
        }
        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            h2 { font-size: 1.8rem; }
            .section-title { font-size: 2rem; }
            .section-subtitle { font-size: 1rem; }
            .step-content { padding: 30px; min-height: 500px; }
            .formula-table { width: 100%; font-size: 1rem; }
            .footer-grid { grid-template-columns: 1fr 1fr; }
        }
    </style>
</head>
<body>
    <header>
        <a href="index.html" class="logo-container">
            <img class="logo-img" alt="Educard Logo">
            <span class="site-name">EDUCARD S.A.S.</span>
        </a>
        <nav>
            <ul>
                <li><a href="index.html" data-translate="nav_inicio">Inicio</a></li>
                <li><a href="refuerzos.html" data-translate="nav_refuerzos">Refuerzos</a></li>
                <li><a href="index.html#nosotros" data-translate="nav_nosotros">Nosotros</a></li>
                <li><a href="index.html#beneficios" data-translate="nav_beneficios">Beneficios</a></li>
                <li><a href="faq.html" data-translate="nav_faq">FAQ</a></li>
            </ul>
        </nav>
        <div class="header-actions">
            <div class="language-selector">
                <div class="current-flag">
                    <img id="current-flag-img" src="https://flagcdn.com/co.svg" alt="Colombia Flag" class="flag">
                </div>
                <div class="language-dropdown">
                    <a href="#" data-lang="es"><img src="https://flagcdn.com/co.svg" alt="Bandera Colombia"> Español</a>
                    <a href="#" data-lang="en"><img src="https://flagcdn.com/us.svg" alt="Bandera EE.UU."> English</a>
                    <a href="#" data-lang="de"><img src="https://flagcdn.com/de.svg" alt="Bandera Alemania"> Deutsch</a>
                </div>
            </div>
            <a href="acceder.html" class="header-button" data-translate="acceder_btn">Acceder</a>
        </div>
    </header>

    <main>
        <section class="module-wrapper">
            <div class="container">
                <div class="section-header">
                    <h1 class="section-title" id="moduleTitle"><i class="fa-solid fa-ruler-combined"></i> Módulo Geometría Básica (G)</h1>
                    <p class="section-subtitle" id="moduleSubtitle">El estudio de las formas, el espacio y la medida de sus elementos fundamentales.</p>
                </div>
                
                <div class="progress-bar-container">
                    <div id="progress-bar" class="progress-bar"></div>
                </div>

                <div id="module-content">

                    <div id="step-1" class="step-content"> 
                        <h2><i class="fa-solid fa-book-open"></i> 1. Introducción: ¿Qué es la Geometría?</h2>
                        <hr style="margin-top: 15px; border-color: var(--color-border);">

                        <div class="card alert-info">
                            <h3 data-translate="step1_def_header">Definición y Origen</h3>
                            <p data-translate="step1_def_text1">La <strong>Geometría</strong> es la rama de las matemáticas que estudia la extensión de las figuras en un plano o espacio, así como la forma de medirlas a través de su <strong>perímetro</strong>, <strong>área</strong> y <strong>volumen</strong>.</p>
                            <p data-translate="step1_def_text2">Es una de las ciencias más antiguas, con orígenes en el Antiguo Egipto, inspirada en la necesidad de medir la tierra después de las crecidas del Nilo.</p>
                        </div>

                        <div class="card">
                            <h3 data-translate="step1_key_concepts_header">Conceptos Clave de la Geometría</h3>
                            <ul style="list-style-type: disc; margin-left: 25px;">
                                <li data-translate="step1_list1_1"><strong>Perímetro:</strong> La medida del contorno o borde de una figura.</li>
                                <li data-translate="step1_list1_2"><strong>Área:</strong> La medida de la superficie interior de una figura plana.</li>
                                <li data-translate="step1_list1_3"><strong>Ángulos:</strong> La abertura formada por dos líneas que parten de un mismo punto.</li>
                                <li data-translate="step1_list1_4"><strong>Axiomas:</strong> Enunciados fundamentales que describen y relacionan conceptos, como los establecidos por Euclides, el <strong>Padre de la Geometría</strong>.</li>
                            </ul>
                        </div>
                        
                        <h3 data-translate="step1_video_header">Video Explicativo: ¿Qué es la Geometría?</h3>
                        <div class="video-container">
                            <iframe width="100%" height="315" src="https://www.youtube.com/embed/RWwJ7NGpdQQ" title="Video de ¿QUE ES LA GEOMETRÍA? super facil - Para principiantes" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                            <small style="display: block; text-align: center; color: var(--color-text-subtle); margin-top: 10px;" data-translate="step1_video_text">Video: Introducción a la Geometría y su historia.</small>
                        </div>

                        <div class="curious-fact">
                            <strong>Dato Curioso:</strong> <span data-translate="step1_curious_fact">La invención de la rueda en Babilonia motivó el estudio de la circunferencia y llevó al descubrimiento del número <strong>Pi (&pi;)</strong>, que es crucial para calcular el perímetro y área de cualquier círculo.</span>
                        </div>
                    </div>

                    <div id="step-2" class="step-content">
                        <h2 data-translate="step2_title"><i class="fa-solid fa-shapes"></i> 2. Elementos Básicos y Clasificación de Ángulos</h2>
                        <p class="section-subtitle" data-translate="step2_subtitle">Punto, línea, plano y las medidas fundamentales de los ángulos.</p>
                        <hr style="margin-top: 15px; border-color: var(--color-border);">

                        <div class="card alert-success">
                            <h4 data-translate="step2_elements_header">Los Elementos No Definidos de Euclides</h4>
                            <p data-translate="step2_element1_text"><strong>Punto:</strong> No tiene dimensiones. Solo indica posición. </p>
                            <p data-translate="step2_element2_text"><strong>Línea:</strong> Sucesión infinita de puntos. Puede ser recta o curva.</p>
                            <p data-translate="step2_element3_text"><strong>Plano:</strong> Superficie plana que se extiende ilimitadamente en dos dimensiones (largo y ancho). Un dibujo en un papel representa una figura en el plano.</p>
                        </div>

                        <div class="card alert-warning">
                            <h4 data-translate="step2_angles_header">Clasificación de Ángulos</h4>
                            <p data-translate="step2_angle_def_text">Un ángulo se mide en grados y se forma por dos rayos que comparten un vértice común. El instrumento para medir es el <strong>transportador</strong>.</p>
                            <ul style="list-style-type: disc; margin-left: 25px;">
                                <li data-translate="step2_angle1"><strong>Ángulo Agudo:</strong> Mide menos de 90° (0° < A < 90°).</li>
                                <li data-translate="step2_angle2"><strong>Ángulo Recto:</strong> Mide exactamente 90°. Forma una esquina perfecta. </li>
                                <li data-translate="step2_angle3"><strong>Ángulo Obtuso:</strong> Mide más de 90° pero menos de 180° (90° < A < 180°).</li>
                                <li data-translate="step2_angle4"><strong>Ángulo Llano:</strong> Mide exactamente 180°. Forma una línea recta.</li>
                            </ul>
                        </div>

                        <div class="curious-fact">
                            <strong>Dato Curioso:</strong> <span data-translate="step2_curious_fact">La geometría se divide en **Euclidiana** (la que usamos comúnmente en un plano) y **No Euclidiana** (usada, por ejemplo, en la relatividad de Einstein para describir la curvatura del espacio-tiempo).</span>
                        </div>
                    </div>

                    <div id="step-3" class="step-content">
                        <h2 data-translate="step3_title"><i class="fa-solid fa-chart-area"></i> 3. El Perímetro: Midiendo el Contorno</h2>
                        <p class="section-subtitle" data-translate="step3_subtitle">Cómo calcular la distancia alrededor de las figuras planas más comunes.</p>
                        <hr style="margin-top: 15px; border-color: var(--color-border);">
                        
                        <div class="card">
                            <h4 data-translate="step3_def_header">Definición de Perímetro</h4>
                            <p data-translate="step3_def_text">El **Perímetro (P)** es la suma de las longitudes de todos los lados de una figura. En esencia, es la medida de la **frontera** de la figura. </p>
                        </div>

                        <h3 data-translate="step3_table_header">Fórmulas Clave de Perímetro</h3>

                        <table class="formula-table">
                            <thead>
                                <tr>
                                    <th data-translate="step3_table_header_fig">Figura</th>
                                    <th data-translate="step3_table_header_form">Fórmula del Perímetro (P)</th>
                                    <th data-translate="step3_table_header_desc">Descripción de Variables</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td data-translate="step3_fig1">Cuadrado (Lado = l)</td>
                                    <td>P = 4 * l</td>
                                    <td data-translate="step3_desc1">Se multiplica la longitud del lado (l) por 4.</td>
                                </tr>
                                <tr>
                                    <td data-translate="step3_fig2">Rectángulo (Lado = b, h)</td>
                                    <td>P = 2b + 2h</td>
                                    <td data-translate="step3_desc2">Suma de dos veces la base (b) más dos veces la altura (h).</td>
                                </tr>
                                <tr>
                                    <td data-translate="step3_fig3">Triángulo (Lados = a, b, c)</td>
                                    <td>P = a + b + c</td>
                                    <td data-translate="step3_desc3">Suma de la longitud de sus tres lados.</td>
                                </tr>
                                <tr>
                                    <td data-translate="step3_fig4">Círculo (Circunferencia)</td>
                                    <td>P = 2 * &pi; * r</td>
                                    <td data-translate="step3_desc4">Dos veces Pi (&pi; &approx; 3.1416) por el radio (r).</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <div class="curious-fact">
                            <strong>Dato Curioso:</strong> <span data-translate="step3_curious_fact">La palabra **Perímetro** proviene del griego *peri* (alrededor) y *metros* (medida). La palabra **área** viene del latín *area*, que significaba un espacio abierto o un campo.</span>
                        </div>
                    </div>

                    <div id="step-4" class="step-content">
                        <h2 data-translate="step4_title"><i class="fa-solid fa-square"></i> 4. El Área: Midiendo la Superficie</h2>
                        <p class="section-subtitle" data-translate="step4_subtitle">Cómo calcular la superficie interna de las figuras planas, expresada en unidades cuadradas.</p>
                        <hr style="margin-top: 15px; border-color: var(--color-border);">
                        
                        <div class="card alert-success">
                            <h4 data-translate="step4_def_header">Definición de Área</h4>
                            <p data-translate="step4_def_text">El **Área (A)** es la medida de la superficie delimitada por el perímetro. Se expresa siempre en **unidades cuadradas** (metros cuadrados, centímetros cuadrados, etc.).</p>
                        </div>
                        
                        <h3 data-translate="step4_table_header">Fórmulas Clave de Área</h3>

                        <table class="formula-table">
                            <thead>
                                <tr>
                                    <th data-translate="step4_table_header_fig">Figura</th>
                                    <th data-translate="step4_table_header_form">Fórmula del Área (A)</th>
                                    <th data-translate="step4_table_header_desc">Descripción de Variables</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td data-translate="step4_fig1">Cuadrado (Lado = l)</td>
                                    <td>A = l²</td>
                                    <td data-translate="step4_desc1">Lado por lado.</td>
                                </tr>
                                <tr>
                                    <td data-translate="step4_fig2">Rectángulo (Lado = b, h)</td>
                                    <td>A = b * h</td>
                                    <td data-translate="step4_desc2">Base (b) por altura (h).</td>
                                </tr>
                                <tr>
                                    <td data-translate="step4_fig3">Triángulo (Lado = b, h)</td>
                                    <td>A = (b * h) / 2</td>
                                    <td data-translate="step4_desc3">Base por altura, dividido entre 2.</td>
                                </tr>
                                <tr>
                                    <td data-translate="step4_fig4">Círculo</td>
                                    <td>A = &pi; * r²</td>
                                    <td data-translate="step4_desc4">Pi (&pi;) por el radio (r) al cuadrado.</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="curious-fact">
                            <strong>Dato Curioso:</strong> <span data-translate="step4_curious_fact">El matemático francés **René Descartes** es quien nos dio la Geometría Analítica, permitiendo representar figuras geométricas como el círculo o la línea recta mediante ecuaciones algebraicas en un sistema de coordenadas.</span>
                        </div>
                    </div>

                    <div id="step-5" class="step-content">
                        <h2 data-translate="step5_title"><i class="fa-solid fa-graduation-cap"></i> 5. Evaluación Final: ¡Mide tu Conocimiento!</h2>
                        <p class="section-subtitle" data-translate="step5_subtitle">Responde el siguiente Quiz de 5 preguntas para validar tu aprendizaje sobre Geometría Básica.</p>
                        <hr style="margin-top: 15px; border-color: var(--color-border);">

                        <form id="quiz-form">
                            <div id="question1">
                                <label for="q1_input" data-translate="step5_q1_label">¿Qué mide el Perímetro de una figura?</label>
                                <input type="text" id="q1_input" name="question1" required>
                            </div>

                            <div id="question2">
                                <label for="q2_input" data-translate="step5_q2_label">¿Cuál es la medida exacta de un Ángulo Recto (en grados)?</label>
                                <input type="number" id="q2_input" name="question2" required>
                            </div>

                            <div id="question3">
                                <label for="q3_op1" data-translate="step5_q3_label">Si un cuadrado tiene un lado de 5 cm, ¿cuál es su Área (A)?</label>
                                <div class="radio-group">
                                    <input type="radio" id="q3_op1" name="question3" value="20cm">
                                    <label for="q3_op1" class="option-box" data-translate="step5_q3_op1">20 cm²</label>
                                    <input type="radio" id="q3_op2" name="question3" value="25cm">
                                    <label for="q3_op2" class="option-box" data-translate="step5_q3_op2">25 cm²</label>
                                    <input type="radio" id="q3_op3" name="question3" value="10cm">
                                    <label for="q3_op3" class="option-box" data-translate="step5_q3_op3">10 cm²</label>
                                    <input type="radio" id="q3_op4" name="question3" value="5cm">
                                    <label for="q3_op4" class="option-box" data-translate="step5_q3_op4">5 cm²</label>
                                </div>
                            </div>

                            <div id="question4">
                                <label for="q4_input" data-translate="step5_q4_label">Verdadero o Falso: La fórmula del Área de un Triángulo es b * h / 2.</label>
                                <div class="true-false-group">
                                    <input type="radio" id="q4_true" name="question4" value="true" required>
                                    <label for="q4_true" class="option-box" data-translate="step5_q4_op1">Verdadero</label>
                                    <input type="radio" id="q4_false" name="question4" value="false">
                                    <label for="q4_false" class="option-box" data-translate="step5_q4_op2">Falso</label>
                                </div>
                            </div>

                            <div id="question5">
                                <label for="q5_input" data-translate="step5_q5_label">¿Qué matemático es conocido como el "Padre de la Geometría"?</label>
                                <input type="text" id="q5_input" name="question5" required>
                            </div>

                            <div id="quiz-result-summary" class=""> </div>
                            <button type="submit" class="btn btn-primary" style="margin-top: 30px;" data-translate="step5_submit_btn">
                                <i class="fa-solid fa-clipboard-check"></i> Evaluar Respuestas
                            </button>
                        </form>
                    </div>

                </div>

                <div class="step-navigation">
                    <button id="prev-btn" class="btn btn-outline" disabled><i class="fa-solid fa-arrow-left"></i> Anterior</button>
                    <button id="next-btn" class="btn btn-primary">Siguiente <i class="fa-solid fa-arrow-right"></i></button>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <h5>EDUCARD S.A.S.</h5>
                    <p>Somos una empresa dedicada a fortalecer las competencias académicas en matemáticas y tecnología, ofreciendo módulos interactivos y personalizados para el crecimiento de los estudiantes.</p>
                    <p data-translate="footer_made_with"><strong>Hecho con <i class="fa-solid fa-heart" style="color: #ef4444;"></i> en Cajicá, Cundinamarca.</strong></p>
                </div>
                <div class="footer-links">
                    <h5>Productos</h5>
                    <ul>
                        <li><a href="#">Módulos de Refuerzo</a></li>
                        <li><a href="#">Simulacros Saber</a></li>
                        <li><a href="#">Tutorías Personalizadas</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h5>Compañía</h5>
                    <ul>
                        <li><a href="#">Acerca de Nosotros</a></li>
                        <li><a href="#">Política de Privacidad</a></li>
                        <li><a href="#">Términos y Condiciones</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h5>Soporte</h5>
                    <ul>
                        <li><a href="faq.html">FAQ</a></li>
                        <li><a href="mailto:contacto@educard.co">Contacto por Email</a></li>
                        <li><a href="tel:+573001234567">Llamar (300 123 4567)</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                &copy; 2024 EDUCARD S.A.S. Todos los derechos reservados.
            </div>
        </div>
    </footer>

    <script>
        // =========================================
        // --- LÓGICA DEL MÓDULO INTERACTIVO ---
        // =========================================

        document.addEventListener('DOMContentLoaded', () => {

            // --- 1. LÓGICA DE TRADUCCIÓN (Contenido para el Módulo 3: Geometría) ---

            const languageData = {
                es: {
                    nav_inicio: "Inicio", nav_refuerzos: "Refuerzos", nav_nosotros: "Nosotros", nav_beneficios: "Beneficios", nav_faq: "FAQ", acceder_btn: "Acceder", 
                    
                    // Step 1
                    step1_def_header: "Definición y Origen",
                    step1_def_text1: "La <strong>Geometría</strong> es la rama de las matemáticas que estudia la extensión de las figuras en un plano o espacio, así como la forma de medirlas a través de su <strong>perímetro</strong>, <strong>área</strong> y <strong>volumen</strong>.",
                    step1_def_text2: "Es una de las ciencias más antiguas, con orígenes en el Antiguo Egipto, inspirada en la necesidad de medir la tierra después de las crecidas del Nilo.",
                    step1_key_concepts_header: "Conceptos Clave de la Geometría",
                    step1_list1_1: "<strong>Perímetro:</strong> La medida del contorno o borde de una figura.",
                    step1_list1_2: "<strong>Área:</strong> La medida de la superficie interior de una figura plana.",
                    step1_list1_3: "<strong>Ángulos:</strong> La abertura formada por dos líneas que parten de un mismo punto.",
                    step1_list1_4: "<strong>Axiomas:</strong> Enunciados fundamentales que describen y relacionan conceptos, como los establecidos por Euclides, el <strong>Padre de la Geometría</strong>.",
                    step1_video_header: "Video Explicativo: ¿Qué es la Geometría?",
                    step1_video_text: "Video: Introducción a la Geometría y su historia.",
                    step1_curious_fact: "La invención de la rueda en Babilonia motivó el estudio de la circunferencia y llevó al descubrimiento del número <strong>Pi (&pi;)</strong>, que es crucial para calcular el perímetro y área de cualquier círculo.",
                    
                    // Step 2
                    step2_title: "2. Elementos Básicos y Clasificación de Ángulos",
                    step2_subtitle: "Punto, línea, plano y las medidas fundamentales de los ángulos.",
                    step2_elements_header: "Los Elementos No Definidos de Euclides",
                    step2_element1_text: "<strong>Punto:</strong> No tiene dimensiones. Solo indica posición.",
                    step2_element2_text: "<strong>Línea:</strong> Sucesión infinita de puntos. Puede ser recta o curva.",
                    step2_element3_text: "<strong>Plano:</strong> Superficie plana que se extiende ilimitadamente en dos dimensiones (largo y ancho). Un dibujo en un papel representa una figura en el plano.",
                    step2_angles_header: "Clasificación de Ángulos",
                    step2_angle_def_text: "Un ángulo se mide en grados y se forma por dos rayos que comparten un vértice común. El instrumento para medir es el <strong>transportador</strong>.",
                    step2_angle1: "<strong>Ángulo Agudo:</strong> Mide menos de 90° (0° < A < 90°).",
                    step2_angle2: "<strong>Ángulo Recto:</strong> Mide exactamente 90°. Forma una esquina perfecta.",
                    step2_angle3: "<strong>Ángulo Obtuso:</strong> Mide más de 90° pero menos de 180° (90° < A < 180°).",
                    step2_angle4: "<strong>Ángulo Llano:</strong> Mide exactamente 180°. Forma una línea recta.",
                    step2_curious_fact: "La geometría se divide en **Euclidiana** (la que usamos comúnmente en un plano) y **No Euclidiana** (usada, por ejemplo, en la relatividad de Einstein para describir la curvatura del espacio-tiempo).",
                    
                    // Step 3 
                    step3_title: "3. El Perímetro: Midiendo el Contorno",
                    step3_subtitle: "Cómo calcular la distancia alrededor de las figuras planas más comunes.",
                    step3_def_header: "Definición de Perímetro",
                    step3_def_text: "El **Perímetro (P)** es la suma de las longitudes de todos los lados de una figura. En esencia, es la medida de la **frontera** de la figura.",
                    step3_table_header: "Fórmulas Clave de Perímetro",
                    step3_table_header_fig: "Figura",
                    step3_table_header_form: "Fórmula del Perímetro (P)",
                    step3_table_header_desc: "Descripción de Variables",
                    step3_fig1: "Cuadrado (Lado = l)",
                    step3_desc1: "Se multiplica la longitud del lado (l) por 4.",
                    step3_fig2: "Rectángulo (Lado = b, h)",
                    step3_desc2: "Suma de dos veces la base (b) más dos veces la altura (h).",
                    step3_fig3: "Triángulo (Lados = a, b, c)",
                    step3_desc3: "Suma de la longitud de sus tres lados.",
                    step3_fig4: "Círculo (Circunferencia)",
                    step3_desc4: "Dos veces Pi (&pi; &approx; 3.1416) por el radio (r).",
                    step3_curious_fact: "La palabra **Perímetro** proviene del griego *peri* (alrededor) y *metros* (medida). La palabra **área** viene del latín *area*, que significaba un espacio abierto o un campo.",

                    // Step 4 
                    step4_title: "4. El Área: Midiendo la Superficie",
                    step4_subtitle: "Cómo calcular la superficie interna de las figuras planas, expresada en unidades cuadradas.",
                    step4_def_header: "Definición de Área",
                    step4_def_text: "El **Área (A)** es la medida de la superficie delimitada por el perímetro. Se expresa siempre en **unidades cuadradas** (metros cuadrados, centímetros cuadrados, etc.).",
                    step4_table_header: "Fórmulas Clave de Área",
                    step4_table_header_fig: "Figura",
                    step4_table_header_form: "Fórmula del Área (A)",
                    step4_table_header_desc: "Descripción de Variables",
                    step4_fig1: "Cuadrado (Lado = l)",
                    step4_desc1: "Lado por lado.",
                    step4_fig2: "Rectángulo (Lado = b, h)",
                    step4_desc2: "Base (b) por altura (h).",
                    step4_fig3: "Triángulo (Lado = b, h)",
                    step4_desc3: "Base por altura, dividido entre 2.",
                    step4_fig4: "Círculo",
                    step4_desc4: "Pi (&pi;) por el radio (r) al cuadrado.",
                    step4_curious_fact: "El matemático francés **René Descartes** es quien nos dio la Geometría Analítica, permitiendo representar figuras geométricas como el círculo o la línea recta mediante ecuaciones algebraicas en un sistema de coordenadas.",

                    // Step 5
                    step5_title: "5. Evaluación Final: ¡Mide tu Conocimiento!",
                    step5_subtitle: "Responde el siguiente Quiz de 5 preguntas para validar tu aprendizaje sobre Geometría Básica.",
                    step5_q1_label: "¿Qué mide el Perímetro de una figura?",
                    step5_q2_label: "¿Cuál es la medida exacta de un Ángulo Recto (en grados)?",
                    step5_q3_label: "Si un cuadrado tiene un lado de 5 cm, ¿cuál es su Área (A)?",
                    step5_q3_op1: "20 cm²", step5_q3_op2: "25 cm²", step5_q3_op3: "10 cm²", step5_q3_op4: "5 cm²",
                    step5_q4_label: "Verdadero o Falso: La fórmula del Área de un Triángulo es b * h / 2.",
                    step5_q4_op1: "Verdadero", step5_q4_op2: "Falso",
                    step5_q5_label: "¿Qué matemático es conocido como el \"Padre de la Geometría\"?",
                    step5_submit_btn: "Evaluar Respuestas",
                    
                    // Quiz Feedback
                    quiz_feedback_perfect: `<i class="fa-solid fa-star"></i> ¡DOMINIO TOTAL! {score} de {total} correctas. Eres un maestro de la Geometría.`,
                    quiz_feedback_good: `<i class="fa-solid fa-thumbs-up"></i> ¡Muy Bien! {score} de {total} correctas. Revisa los errores marcados para refuerzo.`,
                    quiz_feedback_poor: `<i class="fa-solid fa-frown"></i> Resultado: {score} de {total} correctas. Regresa a la sección de Teoría, ¡aún queda trabajo por hacer!`,

                    // Footer
                    footer_made_with: "<strong>Hecho con <i class=\"fa-solid fa-heart\" style=\"color: #ef4444;\"></i> en Cajicá, Cundinamarca.</strong>"
                },
                // --- TRADUCCIONES EN INGLÉS ---
                en: {
                    nav_inicio: "Home", nav_refuerzos: "Reinforcements", nav_nosotros: "About Us", nav_beneficios: "Benefits", nav_faq: "FAQ", acceder_btn: "Access", 
                    
                    // Step 1
                    step1_def_header: "Definition and Origin",
                    step1_def_text1: "<strong>Geometry</strong> is the branch of mathematics that studies the extension of figures in a plane or space, as well as the way to measure them through their <strong>perimeter</strong>, <strong>area</strong>, and <strong>volume</strong>.",
                    step1_def_text2: "It is one of the oldest sciences, originating in Ancient Egypt, inspired by the need to measure land after the Nile floods.",
                    step1_key_concepts_header: "Key Concepts of Geometry",
                    step1_list1_1: "<strong>Perimeter:</strong> The measure of a figure's boundary or outline.",
                    step1_list1_2: "<strong>Area:</strong> The measure of the inner surface of a plane figure.",
                    step1_list1_3: "<strong>Angles:</strong> The opening formed by two lines sharing a common point.",
                    step1_list1_4: "<strong>Axioms:</strong> Fundamental statements that describe and relate concepts, such as those established by Euclid, the <strong>Father of Geometry</strong>.",
                    step1_video_header: "Explanatory Video: What is Geometry?",
                    step1_video_text: "Video: Introduction to Geometry and its history.",
                    step1_curious_fact: "The invention of the wheel in Babylon prompted the study of circumference and led to the discovery of the number <strong>Pi (&pi;)</strong>, which is crucial for calculating the perimeter and area of any circle.",
                    
                    // Step 2
                    step2_title: "2. Basic Elements and Angle Classification",
                    step2_subtitle: "Point, line, plane, and the fundamental measures of angles.",
                    step2_elements_header: "Euclid's Undefined Elements",
                    step2_element1_text: "<strong>Point:</strong> Has no dimension. Only indicates position.",
                    step2_element2_text: "<strong>Line:</strong> An infinite succession of points. It can be straight or curved.",
                    step2_element3_text: "<strong>Plane:</strong> A flat surface that extends infinitely in two dimensions (length and width). A drawing on paper represents a figure on the plane.",
                    step2_angles_header: "Classification of Angles",
                    step2_angle_def_text: "An angle is measured in degrees and is formed by two rays that share a common vertex. The instrument for measurement is the <strong>protractor</strong>.",
                    step2_angle1: "<strong>Acute Angle:</strong> Measures less than 90° (0° < A < 90°).",
                    step2_angle2: "<strong>Right Angle:</strong> Measures exactly 90°. Forms a perfect corner.",
                    step2_angle3: "<strong>Obtuse Angle:</strong> Measures more than 90° but less than 180° (90° < A < 180°).",
                    step2_angle4: "<strong>Straight Angle:</strong> Measures exactly 180°. Forms a straight line.",
                    step2_curious_fact: "Geometry is divided into **Euclidean** (what we commonly use in a plane) and **Non-Euclidean** (used, for example, in Einstein's relativity to describe the curvature of spacetime).",

                    // Step 3 
                    step3_title: "3. Perimeter: Measuring the Boundary",
                    step3_subtitle: "How to calculate the distance around the most common plane figures.",
                    step3_def_header: "Definition of Perimeter",
                    step3_def_text: "The **Perimeter (P)** is the sum of the lengths of all the sides of a figure. Essentially, it is the measure of the figure's **boundary**.",
                    step3_table_header: "Key Perimeter Formulas",
                    step3_table_header_fig: "Figure",
                    step3_table_header_form: "Perimeter Formula (P)",
                    step3_table_header_desc: "Variable Description",
                    step3_fig1: "Square (Side = l)",
                    step3_desc1: "Multiply the side length (l) by 4.",
                    step3_fig2: "Rectangle (Side = b, h)",
                    step3_desc2: "Sum of twice the base (b) plus twice the height (h).",
                    step3_fig3: "Triangle (Sides = a, b, c)",
                    step3_desc3: "Sum of the length of its three sides.",
                    step3_fig4: "Circle (Circumference)",
                    step3_desc4: "Twice Pi (&pi; &approx; 3.1416) times the radius (r).",
                    step3_curious_fact: "The word **Perimeter** comes from the Greek *peri* (around) and *metros* (measure). The word **area** comes from the Latin *area*, which meant an open space or a field.",

                    // Step 4 
                    step4_title: "4. Area: Measuring the Surface",
                    step4_subtitle: "How to calculate the internal surface of plane figures, expressed in square units.",
                    step4_def_header: "Definition of Area",
                    step4_def_text: "The **Area (A)** is the measure of the surface enclosed by the perimeter. It is always expressed in **square units** (square meters, square centimeters, etc.).",
                    step4_table_header: "Key Area Formulas",
                    step4_table_header_fig: "Figure",
                    step4_table_header_form: "Area Formula (A)",
                    step4_table_header_desc: "Variable Description",
                    step4_fig1: "Square (Side = l)",
                    step4_desc1: "Side times side.",
                    step4_fig2: "Rectangle (Side = b, h)",
                    step4_desc2: "Base (b) times height (h).",
                    step4_fig3: "Triangle (Side = b, h)",
                    step4_desc3: "Base times height, divided by 2.",
                    step4_fig4: "Circle",
                    step4_desc4: "Pi (&pi;) times the radius (r) squared.",
                    step4_curious_fact: "The French mathematician **René Descartes** is the one who gave us Analytical Geometry, allowing geometric figures like the circle or the straight line to be represented by algebraic equations in a coordinate system.",

                    // Step 5
                    step5_title: "5. Final Evaluation: Measure Your Knowledge!",
                    step5_subtitle: "Answer the following 5-question Quiz to validate your learning about Basic Geometry.",
                    step5_q1_label: "What does the Perimeter of a figure measure?",
                    step5_q2_label: "What is the exact measure of a Right Angle (in degrees)?",
                    step5_q3_label: "If a square has a side of 5 cm, what is its Area (A)?",
                    step5_q3_op1: "20 cm²", step5_q3_op2: "25 cm²", step5_q3_op3: "10 cm²", step5_q3_op4: "5 cm²",
                    step5_q4_label: "True or False: The formula for the Area of a Triangle is b * h / 2.",
                    step5_q4_op1: "True", step5_q4_op2: "False",
                    step5_q5_label: "Which mathematician is known as the \"Father of Geometry\"?",
                    step5_submit_btn: "Evaluate Answers",
                    
                    // Quiz Feedback
                    quiz_feedback_perfect: `<i class="fa-solid fa-star"></i> TOTAL DOMINATION! {score} out of {total} correct. You are a Geometry Master.`,
                    quiz_feedback_good: `<i class="fa-solid fa-thumbs-up"></i> Very Good! {score} out of {total} correct. Review the marked errors for reinforcement.`,
                    quiz_feedback_poor: `<i class="fa-solid fa-frown"></i> Result: {score} out of {total} correct. Go back to the Theory section, there is still work to be done!`,

                    // Footer
                    footer_made_with: "<strong>Made with <i class=\"fa-solid fa-heart\" style=\"color: #ef4444;\"></i> in Cajicá, Cundinamarca.</strong>"
                },
                // --- TRADUCCIONES EN ALEMÁN ---
                de: {
                    nav_inicio: "Startseite", nav_refuerzos: "Nachhilfe", nav_nosotros: "Über Uns", nav_beneficios: "Vorteile", nav_faq: "FAQ", acceder_btn: "Zugang", 
                    
                    // Step 1
                    step1_def_header: "Definition und Ursprung",
                    step1_def_text1: "Die <strong>Geometrie</strong> ist der Zweig der Mathematik, der die Ausdehnung von Figuren in einer Ebene oder im Raum sowie deren Messung anhand von <strong>Umfang</strong>, <strong>Fläche</strong> und <strong>Volumen</strong> untersucht.",
                    step1_def_text2: "Sie ist eine der ältesten Wissenschaften und hat ihren Ursprung im Alten Ägypten, inspiriert durch die Notwendigkeit, das Land nach den Nilüberschwemmungen zu vermessen.",
                    step1_key_concepts_header: "Schlüsselkonzepte der Geometrie",
                    step1_list1_1: "<strong>Umfang:</strong> Das Maß der Begrenzung oder des Randes einer Figur.",
                    step1_list1_2: "<strong>Fläche:</strong> Das Maß der inneren Oberfläche einer ebenen Figur.",
                    step1_list1_3: "<strong>Winkel:</strong> Die Öffnung, die von zwei Linien gebildet wird, die von einem gemeinsamen Punkt ausgehen.",
                    step1_list1_4: "<strong>Axiome:</strong> Fundamentale Aussagen, die Konzepte beschreiben und in Beziehung setzen, wie sie von Euklid, dem <strong>Vater der Geometrie</strong>, aufgestellt wurden.",
                    step1_video_header: "Erklärvideo: Was ist Geometrie?",
                    step1_video_text: "Video: Einführung in die Geometrie und ihre Geschichte.",
                    step1_curious_fact: "Die Erfindung des Rades in Babylonien führte zur Untersuchung des Umfangs und zur Entdeckung der Zahl <strong>Pi (&pi;)</strong>, die für die Berechnung des Umfangs und der Fläche jedes Kreises entscheidend ist.",
                    
                    // Step 2
                    step2_title: "2. Grundelemente und Klassifizierung von Winkeln",
                    step2_subtitle: "Punkt, Linie, Ebene und die grundlegenden Maße der Winkel.",
                    step2_elements_header: "Euklids Nicht Definierte Elemente",
                    step2_element1_text: "<strong>Punkt:</strong> Hat keine Dimensionen. Zeigt nur die Position an.",
                    step2_element2_text: "<strong>Linie:</strong> Eine unendliche Abfolge von Punkten. Sie kann gerade oder gekrümmt sein.",
                    step2_element3_text: "<strong>Ebene:</strong> Eine flache Oberfläche, die sich unbegrenzt in zwei Dimensionen (Länge und Breite) erstreckt. Eine Zeichnung auf Papier stellt eine Figur in der Ebene dar.",
                    step2_angles_header: "Klassifizierung von Winkeln",
                    step2_angle_def_text: "Ein Winkel wird in Grad gemessen und entsteht durch zwei Strahlen, die einen gemeinsamen Scheitelpunkt teilen. Das Messinstrument ist der <strong>Winkelmesser</strong>.",
                    step2_angle1: "<strong>Spitzer Winkel:</strong> Misst weniger als 90° (0° < A < 90°).",
                    step2_angle2: "<strong>Rechter Winkel:</strong> Misst genau 90°. Bildet eine perfekte Ecke.",
                    step2_angle3: "<strong>Stumpfer Winkel:</strong> Misst mehr als 90° aber weniger als 180° (90° < A < 180°).",
                    step2_angle4: "<strong>Gestreckter Winkel:</strong> Misst genau 180°. Bildet eine gerade Linie.",
                    step2_curious_fact: "Die Geometrie wird in **Euklidische** (die wir üblicherweise in einer Ebene verwenden) und **Nicht-Euklidische** (die z. B. in Einsteins Relativität zur Beschreibung der Raumzeitkrümmung verwendet wird) unterteilt.",

                    // Step 3 
                    step3_title: "3. Der Umfang: Messung der Begrenzung",
                    step3_subtitle: "So berechnen Sie den Abstand um die gängigsten ebenen Figuren.",
                    step3_def_header: "Definition des Umfangs",
                    step3_def_text: "Der **Umfang (P)** ist die Summe der Längen aller Seiten einer Figur. Im Wesentlichen ist es das Maß der **Grenze** der Figur.",
                    step3_table_header: "Schlüsselformeln für den Umfang",
                    step3_table_header_fig: "Figur",
                    step3_table_header_form: "Umfangsformel (P)",
                    step3_table_header_desc: "Beschreibung der Variablen",
                    step3_fig1: "Quadrat (Seite = l)",
                    step3_desc1: "Die Seitenlänge (l) wird mit 4 multipliziert.",
                    step3_fig2: "Rechteck (Seite = b, h)",
                    step3_desc2: "Summe aus zweimal der Basis (b) plus zweimal der Höhe (h).",
                    step3_fig3: "Dreieck (Seiten = a, b, c)",
                    step3_desc3: "Summe der Länge seiner drei Seiten.",
                    step3_fig4: "Kreis (Umfang)",
                    step3_desc4: "Zweimal Pi (&pi; &approx; 3.1416) mal der Radius (r).",
                    step3_curious_fact: "Das Wort **Umfang** kommt vom Griechischen *peri* (herum) und *metros* (Maß). Das Wort **Fläche** kommt vom Lateinischen *area*, was einen offenen Raum oder ein Feld bedeutete.",

                    // Step 4 
                    step4_title: "4. Die Fläche: Messung der Oberfläche",
                    step4_subtitle: "So berechnen Sie die innere Oberfläche ebener Figuren, ausgedrückt in Quadraten.",
                    step4_def_header: "Definition der Fläche",
                    step4_def_text: "Die **Fläche (A)** ist das Maß der durch den Umfang begrenzten Oberfläche. Sie wird immer in **Quadrateinheiten** (Quadratmeter, Quadratzentimeter usw.) ausgedrückt.",
                    step4_table_header: "Schlüsselformeln für die Fläche",
                    step4_table_header_fig: "Figur",
                    step4_table_header_form: "Flächenformel (A)",
                    step4_table_header_desc: "Beschreibung der Variablen",
                    step4_fig1: "Quadrat (Seite = l)",
                    step4_desc1: "Seite mal Seite.",
                    step4_fig2: "Rechteck (Seite = b, h)",
                    step4_desc2: "Basis (b) mal Höhe (h).",
                    step4_fig3: "Dreieck (Seite = b, h)",
                    step4_desc3: "Basis mal Höhe, geteilt durch 2.",
                    step4_fig4: "Kreis",
                    step4_desc4: "Pi (&pi;) mal der Radius (r) im Quadrat.",
                    step4_curious_fact: "Der französische Mathematiker **René Descartes** ist derjenige, der uns die Analytische Geometrie schenkte, die es ermöglicht, geometrische Figuren wie den Kreis oder die gerade Linie durch algebraische Gleichungen in einem Koordinatensystem darzustellen.",

                    // Step 5
                    step5_title: "5. Abschließende Bewertung: Messe dein Wissen!",
                    step5_subtitle: "Beantworte das folgende 5-Fragen-Quiz, um dein Wissen über Grundlegende Geometrie zu überprüfen.",
                    step5_q1_label: "Was misst der Umfang einer Figur?",
                    step5_q2_label: "Was ist das genaue Maß eines Rechten Winkels (in Grad)?",
                    step5_q3_label: "Wenn ein Quadrat eine Seite von 5 cm hat, wie groß ist seine Fläche (A)?",
                    step5_q3_op1: "20 cm²", step5_q3_op2: "25 cm²", step5_q3_op3: "10 cm²", step5_q3_op4: "5 cm²",
                    step5_q4_label: "Wahr oder Falsch: Die Formel für die Fläche eines Dreiecks lautet b * h / 2.",
                    step5_q4_op1: "Wahr", step5_q4_op2: "Falsch",
                    step5_q5_label: "Welcher Mathematiker ist als der \"Vater der Geometrie\" bekannt?",
                    step5_submit_btn: "Antworten Auswerten",
                    
                    // Quiz Feedback
                    quiz_feedback_perfect: `<i class="fa-solid fa-star"></i> TOTALE BEHERRSCHUNG! {score} von {total} richtig. Du bist ein Geometrie-Meister.`,
                    quiz_feedback_good: `<i class="fa-solid fa-thumbs-up"></i> Sehr Gut! {score} von {total} richtig. Überprüfe die markierten Fehler zur Vertiefung.`,
                    quiz_feedback_poor: `<i class="fa-solid fa-frown"></i> Ergebnis: {score} von {total} richtig. Gehe zurück zum Theorieabschnitt, es gibt noch Arbeit zu erledigen!`,

                    // Footer
                    footer_made_with: "<strong>Mit <i class=\"fa-solid fa-heart\" style=\"color: #ef4444;\"></i> in Cajicá, Cundinamarca, erstellt.</strong>"
                }
            }; 

            function applyTranslation(lang) {
                const translations = languageData[lang];
                if (!translations) return;

                document.getElementById('pageTitle').textContent = lang === 'es' 
                    ? "Módulo Ultra-Dinámico: Geometría Básica (G) | EDUCARD SAS" 
                    : lang === 'en' 
                    ? "Dynamic Module: Basic Geometry (G) | EDUCARD SAS"
                    : "Dynamisches Modul: Grundlegende Geometrie (G) | EDUCARD SAS";

                document.getElementById('moduleTitle').innerHTML = lang === 'es' 
                    ? '<i class="fa-solid fa-ruler-combined"></i> Módulo Geometría Básica (G)'
                    : lang === 'en'
                    ? '<i class="fa-solid fa-ruler-combined"></i> Basic Geometry Module (G)'
                    : '<i class="fa-solid fa-ruler-combined"></i> Modul Grundlegende Geometrie (G)';
                
                document.getElementById('moduleSubtitle').textContent = lang === 'es'
                    ? "El estudio de las formas, el espacio y la medida de sus elementos fundamentales."
                    : lang === 'en'
                    ? "The study of shapes, space, and the measurement of their fundamental elements."
                    : "Die Untersuchung von Formen, Raum und der Messung ihrer grundlegenden Elemente.";


                document.querySelectorAll('[data-translate]').forEach(element => {
                    const key = element.dataset.translate;
                    if (translations[key]) {
                        element.innerHTML = translations[key]; 
                    }
                });
                
                // Actualizar la bandera (simulación)
                const flagImg = document.getElementById('current-flag-img');
                if (lang === 'es') flagImg.src = 'https://flagcdn.com/co.svg';
                else if (lang === 'en') flagImg.src = 'https://flagcdn.com/us.svg';
                else if (lang === 'de') flagImg.src = 'https://flagcdn.com/de.svg';
            }

            // 2. Lógica de Navegación (Copiada de modulo1.html)
            const steps = [
                document.getElementById('step-1'),
                document.getElementById('step-2'),
                document.getElementById('step-3'),
                document.getElementById('step-4'),
                document.getElementById('step-5')
            ];
            const totalSteps = steps.length;
            let currentStep = 0;
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const progressBar = document.getElementById('progress-bar');
            
            // Manejar el clic fuera del dropdown para cerrarlo
            document.body.addEventListener('click', (e) => {
                if (!e.target.closest('.language-selector')) {
                    document.querySelectorAll('.language-dropdown').forEach(d => d.classList.remove('active'));
                }
            });

            // Lógica para mostrar/ocultar pasos y actualizar la barra
            function showStep(stepIndex) {
                // Validación para evitar pasos fuera de rango
                if (stepIndex < 0 || stepIndex >= totalSteps) return;

                // Ocultar todos los pasos y remover la clase 'active'
                steps.forEach((step, index) => {
                    if (index === currentStep && index !== stepIndex) {
                         // Transición de salida
                        step.style.opacity = '0';
                        step.style.transform = stepIndex > currentStep ? 'scale(0.95) translateX(-20px)' : 'scale(0.95) translateX(20px)';
                        setTimeout(() => {
                            step.classList.remove('active');
                            
                            // Transición de entrada del nuevo paso
                            currentStep = stepIndex;
                            const newStep = steps[currentStep];
                            newStep.classList.add('active');
                            newStep.style.opacity = '1';
                            newStep.style.transform = 'scale(1) translateX(0)';
                            updateNavigation();
                        }, 600); // Duración de la animación
                    } else if (index === stepIndex && index === currentStep) {
                        // Si es el primer paso o si el índice no ha cambiado, solo actualiza la navegación
                        steps[stepIndex].classList.add('active');
                        steps[stepIndex].style.opacity = '1';
                        steps[stepIndex].style.transform = 'scale(1) translateX(0)';
                        currentStep = stepIndex;
                        updateNavigation();
                    }
                });

                if (currentStep !== stepIndex) {
                     // Solo si el paso es realmente diferente (para evitar la doble animación)
                    currentStep = stepIndex;
                    updateNavigation();
                }
               
            }

            function updateNavigation() {
                prevBtn.disabled = currentStep === 0;
                // El botón Siguiente se deshabilita en el paso final (que es el quiz)
                nextBtn.disabled = currentStep === totalSteps - 1; 

                // Actualizar la barra de progreso. El progreso está basado en el paso que se está VISUALIZANDO.
                // 5 pasos: 20%, 40%, 60%, 80%, 100%
                const progressPercentage = ((currentStep + 1) / totalSteps) * 100;
                progressBar.style.width = `${progressPercentage}%`;

                // Subir al tope del módulo
                document.querySelector('.module-wrapper').scrollIntoView({ behavior: 'smooth', block: 'start' });
            }

            // Event Listeners para navegación
            if (prevBtn) {
                prevBtn.addEventListener('click', () => {
                    if (currentStep > 0) {
                        showStep(currentStep - 1);
                    }
                });
            }
            if (nextBtn) {
                nextBtn.addEventListener('click', () => {
                    if (currentStep < totalSteps - 1) {
                        showStep(currentStep + 1);
                    }
                });
            }

            // --- 3. LÓGICA DE EVALUACIÓN DEL QUIZ (Actualizada para Geometría) ---
            const quizForm = document.getElementById('quiz-form');
            const quizSummaryDiv = document.getElementById('quiz-result-summary');

            // Respuestas correctas para el módulo de Geometría
            const correctAnswers = {
                question1: 'contorno', // contorno, frontera, borde, distancia alrededor
                question2: '90',       // 90 grados
                question3: '25cm',     // Area = l*l = 5*5 = 25 cm²
                question4: 'true',     // Formula: b*h/2
                question5: 'euclides'  // Euclides
            };

            if (quizForm) {
                quizForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    evaluateQuiz();
                });
            }

            function normalizeInput(value) {
                // Normaliza para comparar números y texto
                return value.toString().trim().toLowerCase()
                            .replace(/\s/g, '') // Quita espacios en blanco
                            .replace(/[^\w\s]/gi, '') // Quita caracteres especiales (como acentos o símbolos de grado)
                            .replace('euclide', 'euclides') // Acepta la forma singular/plural de Euclides
                            .replace('contorno', 'contorno') // Simplifica al término principal
                            .replace('frontera', 'contorno')
                            .replace('borde', 'contorno')
                            .replace('distanciaalrededor', 'contorno')
                            .replace('25cm2', '25cm') // Normaliza las unidades (ya que el valor del radio es '25cm')
                            .replace('grados', ''); 
            }
            
            function evaluateQuiz() {
                let score = 0;
                const totalQuestions = Object.keys(correctAnswers).length;

                // Limpiar estilos anteriores
                document.querySelectorAll('.option-box').forEach(box => {
                    box.classList.remove('correct-answer', 'incorrect-answer');
                });
                document.querySelectorAll('#quiz-form input:not([type="radio"])').forEach(input => {
                    input.classList.remove('correct-answer', 'incorrect-answer');
                });

                for (const [key, correctValue] of Object.entries(correctAnswers)) {
                    const questionElement = document.getElementById(key);
                    if (!questionElement) continue;
                    let userAnswer = null;
                    let isCorrect = false;

                    // Lógica para preguntas de tipo 'radio' (opción única)
                    if (questionElement.querySelector('input[type="radio"]')) {
                        const checkedInput = questionElement.querySelector('input[type="radio"]:checked');
                        if (checkedInput) {
                            userAnswer = normalizeInput(checkedInput.value);
                            isCorrect = userAnswer === normalizeInput(correctValue);
                            
                            // Aplicar estilo al contenedor de la opción
                            questionElement.querySelectorAll('input[type="radio"]').forEach(radioInput => {
                                const boxLabel = document.querySelector(`label[for="${radioInput.id}"]`);
                                if (!boxLabel) return;

                                const normalizedRadioValue = normalizeInput(radioInput.value);
                                if (normalizedRadioValue === userAnswer) {
                                    boxLabel.classList.add(isCorrect ? 'correct-answer' : 'incorrect-answer');
                                } else if (normalizedRadioValue === normalizeInput(correctValue)) {
                                    // Marcar la respuesta correcta (solo si la del usuario es incorrecta)
                                    if (!isCorrect) {
                                        boxLabel.classList.add('correct-answer');
                                    }
                                }
                            });
                        }
                    } 
                    // Lógica para preguntas de tipo 'text' o 'number'
                    else {
                        const inputElement = questionElement.querySelector('input, select');
                        if (inputElement) {
                            userAnswer = normalizeInput(inputElement.value);
                            isCorrect = userAnswer === normalizeInput(correctValue);

                            if (isCorrect) {
                                inputElement.classList.add('correct-answer');
                            } else {
                                inputElement.classList.add('incorrect-answer');
                            }
                        }
                    }

                    if (isCorrect) {
                        score++;
                    }
                }

                // Mostrar el resumen del resultado
                displayQuizSummary(score, totalQuestions);
            }

            function displayQuizSummary(score, totalQuestions) {
                quizSummaryDiv.style.display = 'block';
                quizSummaryDiv.classList.remove('summary-success', 'summary-fail');
                let feedbackText;
                let lang = localStorage.getItem('educardLang') || 'es';
                const translations = languageData[lang];

                if (score === totalQuestions) {
                    quizSummaryDiv.classList.add('summary-success');
                    feedbackText = translations.quiz_feedback_perfect.replace('{score}', score).replace('{total}', totalQuestions);
                } else if (score >= 3) { // 3 o más correctas
                    quizSummaryDiv.classList.add('summary-success');
                    feedbackText = translations.quiz_feedback_good.replace('{score}', score).replace('{total}', totalQuestions);
                } else {
                    quizSummaryDiv.classList.add('summary-fail');
                    feedbackText = translations.quiz_feedback_poor.replace('{score}', score).replace('{total}', totalQuestions);
                }
                
                quizSummaryDiv.innerHTML = feedbackText;
            }

            // --- 4. INICIALIZACIÓN ---
            
            // Lógica para el selector de idioma (copiado de modulo1.html)
            document.querySelectorAll('.language-selector').forEach(selector => {
                const currentFlag = selector.querySelector('.current-flag');
                const dropdown = selector.querySelector('.language-dropdown');
                
                // Si el selector no está activo, no tiene evento click para abrir
                currentFlag.addEventListener('click', (e) => {
                    e.stopPropagation(); // Evita que se cierre por el body.click
                    // Cerrar otros dropdowns antes de abrir este
                    document.querySelectorAll('.language-dropdown').forEach(d => {
                        if (d !== dropdown) d.classList.remove('active');
                    });
                    dropdown.classList.toggle('active');
                });

                // Manejar la selección de idioma dentro del dropdown
                selector.querySelectorAll('.language-dropdown a').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const newLang = link.dataset.lang;
                        applyTranslation(newLang);
                        localStorage.setItem('educardLang', newLang); // Guardar la preferencia
                        document.querySelectorAll('.language-dropdown').forEach(d => d.classList.remove('active'));
                    });
                });
            });

            // Aplicar traducción inicial (o cargar preferencia)
            const savedLang = localStorage.getItem('educardLang') || 'es';
            applyTranslation(savedLang);

            // 3. Inicializar Módulo de Pasos (Ejecuta la función de navegación)
            if (steps.length > 0) {
                showStep(0);
            }
        });
    </script>

</body>
</html>