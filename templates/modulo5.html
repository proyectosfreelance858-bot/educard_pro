<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle">Módulo Ultra-Dinámico: Lógica, Conjuntos y Coordenadas (C) | EDUCARD SAS</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700;800&family=Instrument+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
    <style>
        /* ================================================================= */
        /* --- 1. VARIABLES, RESET Y ESTILOS GLOBALES (Minimalista y Dinámico) --- */
        /* ================================================================= */
        :root {
            --color-primary: #5c67ff; /* Azul Educard */
            --color-primary-light: #8e96ff;
            --color-primary-dark: #4b54ff; 
            --color-secondary: #ffc107; /* Amarillo Destacado */
            --color-background: #f0f3f8; /* Fondo más frío y moderno */
            --color-surface: #ffffff; /* Superficie Blanca */
            --color-text-dark: #1f2937; /* Texto Principal (Casi negro) */
            --color-text-subtle: #6b7280; /* Texto Secundario */
            --color-border: #e5e7eb;
            --color-success: #10b981; /* Verde más vibrante */
            --color-danger: #ef4444; /* Rojo moderno */
            --color-shadow-primary: rgba(92, 103, 255, 0.25);
            --font-heading: 'Outfit', sans-serif;
            --font-body: 'Instrument Sans', sans-serif;
            --header-height: 80px;
            --step-transition-duration: 0.6s; 
        }

        /* Reset Básico */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body { 
            font-family: var(--font-body); 
            color: var(--color-text-dark); 
            background-color: var(--color-background); 
            line-height: 1.7; 
            overflow-x: hidden; 
            padding-top: var(--header-height); 
        }

        /* Contenedor y Tipografía */
        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 0 5%; 
        }
        h1, h2, h3, h4 { 
            font-family: var(--font-heading); 
            font-weight: 700; 
            line-height: 1.2; 
        }
        h1 { font-size: 3.2rem; }
        
        /* DISEÑO DE TÍTULOS MINIMALISTA */
        h2 { 
            font-size: 2.5rem; 
            color: var(--color-text-dark); 
            padding-bottom: 5px;
            border-bottom: 4px solid var(--color-primary-light); /* Subrayado sutil */
            display: inline-block; 
            margin-bottom: 20px;
        }
        h3 { 
            font-size: 1.8rem; 
            color: var(--color-primary-dark); 
            margin-top: 30px; 
            font-weight: 700;
        }
        h4 { 
            font-size: 1.3rem; 
            color: var(--color-text-dark); 
            margin-top: 20px; 
            font-weight: 600; 
            border-left: 5px solid var(--color-secondary); /* Pequeño acento */
            padding-left: 15px;
        }
        p { margin-bottom: 15px; }

        .section-header { text-align: center; margin-bottom: 50px; }
        .section-title { font-size: 2.8rem; font-weight: 800; margin-bottom: 15px; }
        .section-subtitle { font-size: 1.2rem; color: var(--color-text-subtle); max-width: 800px; margin: 0 auto; }
        
        /* Botones (CTA) - Se mantienen dinámicos */
        .btn {
            display: inline-flex; 
            align-items: center;
            gap: 8px;
            padding: 14px 28px; 
            border-radius: 10px; 
            text-decoration: none; 
            font-weight: 700; 
            font-size: 1rem; 
            transition: background-color 0.3s ease, transform 0.2s, box-shadow 0.3s; 
            border: none; 
            cursor: pointer;
        }

        .btn-primary {
            background-color: var(--color-primary); 
            color: white;
            box-shadow: 0 6px 15px var(--color-shadow-primary);
        }
        .btn-primary:hover { 
            background-color: var(--color-primary-dark); 
            transform: translateY(-2px); 
            box-shadow: 0 8px 20px var(--color-shadow-primary); 
        }

        .btn-outline {
            background-color: transparent;
            color: var(--color-primary);
            border: 2px solid var(--color-primary);
            box-shadow: none;
        }
        .btn-outline:hover {
            background-color: var(--color-primary);
            color: white;
        }

        /* DISEÑO DE TARJETAS MINIMALISTA Y DINÁMICO */
        .card {
            background-color: var(--color-surface);
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05); /* Sombra ligera */
            margin-bottom: 25px;
            border: 1px solid var(--color-border); /* Borde sutil */
            border-left: 6px solid var(--color-primary); /* Fuerte acento de color primario */
            transition: transform 0.3s ease, box-shadow 0.3s ease; /* Efecto dinámico */
            animation: fadeIn 0.8s ease-out; /* Animación de entrada */
        }
        .card:hover {
             transform: translateY(-3px); /* Efecto levitación */
             box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .alert {
            padding: 18px;
            border-radius: 10px;
            margin-top: 25px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .alert i { font-size: 1.4rem; }
        .alert-info { background-color: #e0f2fe; color: #0284c7; border: 1px solid #7dd3fc; }
        .alert-success { background-color: #d1fae5; color: var(--color-success); border: 1px solid #a7f3d0; }
        .alert-danger { background-color: #fee2e2; color: var(--color-danger); border: 1px solid #fecaca; }
        .alert-warning { background-color: #fffbeb; color: #d97706; border: 1px solid #fcd34d; }

        /* Estilos para las Tablas de Fórmulas */
        .formula-table {
            width: 100%;
            margin: 30px auto;
            border-collapse: separate;
            border-spacing: 0 12px; 
            font-family: var(--font-body);
            font-size: 1.1rem;
            text-align: left;
        }
        .formula-table th, .formula-table td {
            padding: 18px 25px;
            background-color: var(--color-surface);
            border: 1px solid var(--color-border);
        }
        .formula-table th {
            background-color: var(--color-primary);
            color: white;
            font-weight: 700;
            border: none;
            text-align: center;
            font-size: 1.2rem;
        }
        .formula-table th:first-child { border-top-left-radius: 10px; }
        .formula-table th:last-child { border-top-right-radius: 10px; }
        
        .formula-table tbody tr {
            transition: background-color 0.3s;
        }
        .formula-table tbody tr:hover {
            background-color: #f7f7f7;
        }
        .formula-table td:nth-child(2) {
            font-family: var(--font-heading);
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--color-danger); /* Color para las fórmulas */
            text-align: center;
        }


        /* ========================================= */
        /* --- 2. HEADER --- */
        /* ========================================= */
        header {
            position: fixed; top: 0; left: 0; width: 100%; height: var(--header-height);
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 3%; 
            background-color: var(--color-surface);
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1); z-index: 1000;
        }
        .logo-container { text-decoration: none; display: flex; align-items: center; }
        .logo-img { height: 35px; margin-right: 10px; content: url('https://i.postimg.cc/t4tVr741/54c82322-2df7-4887-abc0-da706407fcd4-2.png'); } 
        .site-name { font-family: var(--font-heading); font-size: 1.4rem; font-weight: 700; color: var(--color-text-dark); }
        nav ul { list-style: none; display: flex; }
        nav ul li { margin-left: 35px; }
        nav ul li a { text-decoration: none; color: var(--color-text-dark); font-weight: 500; padding: 10px 0; display: block; transition: color 0.3s ease; }
        nav ul li a:hover { color: var(--color-primary); font-weight: 600; border-bottom: 2px solid var(--color-primary); padding-bottom: 8px; }
        
        /* Nuevos Estilos para el Selector de Idioma */
        .header-actions {
            display: flex;
            align-items: center; /* Alineación horizontal de bandera y botón */
        }
        .language-selector {
            position: relative;
            display: flex;
            align-items: center;
            cursor: pointer;
            padding: 10px;
            border-radius: 8px;
            margin-right: 15px; 
            transition: background-color 0.3s;
        }
        .language-selector:hover {
            background-color: #f0f3f8; /* Efecto hover sutil */
        }
        .current-flag img {
            width: 28px;
            height: 20px;
            border-radius: 3px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        }
        .language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: var(--color-surface);
            border: 1px solid var(--color-border);
            border-radius: 8px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
            z-index: 1001;
            min-width: 150px;
            display: none;
            padding: 8px 0;
            margin-top: 5px;
        }
        .language-dropdown.active {
            display: block;
        }
        .language-dropdown a {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            text-decoration: none;
            color: var(--color-text-dark);
            font-size: 0.95rem;
        }
        .language-dropdown a:hover {
            background-color: var(--color-background);
        }
        .language-dropdown a img {
            width: 24px;
            height: 18px;
            border-radius: 3px;
            margin-right: 10px;
        }

        .header-actions a.header-button {
            padding: 10px 20px; background-color: var(--color-primary); color: white;
            border-radius: 8px; text-decoration: none; font-weight: 600; font-size: 0.95rem;
            transition: background-color 0.3s, transform 0.2s;
        }
        .header-actions a.header-button:hover { background-color: var(--color-primary-dark); transform: translateY(-1px); }

        /* ========================================= */
        /* --- 3. ESTRUCTURA DINÁMICA DE PASOS --- */
        /* ========================================= */
        .module-wrapper { padding-top: 40px; }
        
        .progress-bar-container {
            width: 100%;
            background-color: var(--color-border);
            border-radius: 5px;
            margin-bottom: 40px;
            height: 12px;
        }
        .progress-bar {
            height: 100%;
            background-color: var(--color-success);
            border-radius: 5px;
            transition: width 0.6s cubic-bezier(0.2, 0.8, 0.2, 1); 
            width: 0%;
        }
        
        .step-content {
            background-color: var(--color-surface);
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
            min-height: 650px; 
            display: none; 
            opacity: 0;
            transform: scale(0.95) translateX(20px); 
            transition: opacity var(--step-transition-duration) ease, transform var(--step-transition-duration) ease;
        }

        .step-content.active {
            display: block;
            opacity: 1;
            transform: scale(1) translateX(0);
        }

        .step-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 20px;
        }
        .step-navigation button:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            box-shadow: none;
        }

        /* Estilo para el Dato Curioso */
        .curious-fact {
            margin-top: 35px;
            padding: 25px;
            background-color: #ecfdf5; /* Color suave de éxito */
            border-radius: 10px;
            font-size: 1rem;
            color: var(--color-text-dark);
            border-left: 5px solid var(--color-success);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            font-weight: 500;
        }
        .curious-fact strong {
            color: var(--color-primary-dark);
        }

        /* Estilos para el código de ejemplo */
        .example-code {
            background-color: #f3f4f6;
            color: var(--color-text-dark);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-family: monospace;
            white-space: pre-wrap;
            border: 1px solid var(--color-border);
            line-height: 1.5;
            font-size: 1.05rem;
        }
        .example-code strong { color: var(--color-primary-dark); }
        .example-code .step-label { color: var(--color-secondary); font-weight: 700; }

        /* Contenedor de Video */
        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* Relación 16:9 */
            height: 0;
            overflow: hidden;
            max-width: 100%;
            background: #000;
            margin-bottom: 25px;
            border-radius: 10px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .content-image {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        /* Estilos de la Evaluación Final */
        #quiz-form label {
            display: block;
            font-size: 1.1rem;
            font-weight: 600;
            margin: 25px 0 10px;
            color: var(--color-primary-dark);
        }
        #quiz-form input[type="text"],
        #quiz-form input[type="number"],
        #quiz-form select {
            width: 100%;
            padding: 12px;
            margin-top: 5px;
            border: 2px solid var(--color-border);
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        #quiz-form input:focus, #quiz-form select:focus {
            outline: none;
            border-color: var(--color-primary-light);
            box-shadow: 0 0 0 3px rgba(92, 103, 255, 0.2);
        }
        #quiz-form .radio-group, #quiz-form .true-false-group {
            display: flex;
            gap: 20px;
            margin-top: 10px;
        }
        #quiz-form .option-box {
            background-color: var(--color-background);
            padding: 15px 20px;
            border-radius: 8px;
            border: 1px solid var(--color-border);
            cursor: pointer;
            transition: all 0.2s;
            flex-grow: 1;
            text-align: center;
            font-weight: 600;
            color: var(--color-text-dark);
        }
        #quiz-form .option-box:hover {
            background-color: #e5e7eb;
        }
        #quiz-form input[type="radio"] {
            display: none;
        }
        #quiz-form input[type="radio"]:checked + .option-box {
            background-color: var(--color-primary);
            color: white;
            border-color: var(--color-primary-dark);
            box-shadow: 0 3px 8px var(--color-shadow-primary);
        }
        .incorrect-answer { border: 2px solid var(--color-danger) !important; animation: shake 0.5s; }
        .correct-answer { border: 2px solid var(--color-success) !important; }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-5px); }
            40%, 80% { transform: translateX(5px); }
        }

        /* Summary Box */
        #quiz-result-summary {
            margin-top: 30px;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            font-size: 1.5rem;
            font-family: var(--font-heading);
            font-weight: 700;
            display: none;
            transition: opacity 0.5s ease;
        }
        .summary-success { background-color: #ecfdf5; color: var(--color-success); border: 2px solid #a7f3d0; }
        .summary-fail { background-color: #fef2f2; color: var(--color-danger); border: 2px solid #fecaca; }

        /* FOOTER ESTILOS */
        footer {
            background-color: #1a202c; /* Darker background for footer */
            color: #e2e8f0;
            padding: 50px 0 20px 0;
            margin-top: 60px;
        }
        .footer-grid {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 40px;
            margin-bottom: 40px;
        }
        .footer-about h5 {
            color: white;
            font-size: 1.4rem;
            margin-bottom: 15px;
            font-family: var(--font-heading);
            font-weight: 700;
        }
        .footer-about p {
            font-size: 0.95rem;
            line-height: 1.8;
            color: #ccc;
        }
        .footer-links h5 {
            font-family: var(--font-heading);
            font-size: 1.1rem;
            margin-bottom: 20px;
            font-weight: 700;
            color: var(--color-secondary);
        }
        .footer-links ul {
            list-style: none;
        }
        .footer-links ul li {
            margin-bottom: 10px;
        }
        .footer-links ul li a {
            color: #ccc;
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.3s;
        }
        .footer-links ul li a:hover {
            color: var(--color-primary-light);
        }
        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #2d3748;
            font-size: 0.8rem;
            color: #a0aec0;
        }
        .footer-about strong {
            color: var(--color-secondary);
        }
        /* Media Queries para Responsive Design */
        @media (max-width: 1024px) {
            h1 { font-size: 2.5rem; }
            h2 { font-size: 2rem; }
            .step-content { padding: 40px; }
            nav { display: none; } /* Ocultar nav en pantallas pequeñas (usar menú hamburguesa) */
        }
        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            h2 { font-size: 1.8rem; }
            .section-title { font-size: 2rem; }
            .section-subtitle { font-size: 1rem; }
            .step-content { padding: 30px; min-height: 500px; }
            .formula-table { width: 100%; font-size: 1rem; }
            .footer-grid { grid-template-columns: 1fr 1fr; }
        }
    </style>
</head>
<body>
    <header>
        <a href="index.html" class="logo-container">
            <img class="logo-img" alt="Educard Logo">
            <span class="site-name">EDUCARD S.A.S.</span>
        </a>
        <nav>
            <ul>
                <li><a href="index.html" data-translate="nav_inicio">Inicio</a></li>
                <li><a href="refuerzos.html" data-translate="nav_refuerzos">Refuerzos</a></li>
                <li><a href="index.html#nosotros" data-translate="nav_nosotros">Nosotros</a></li>
                <li><a href="index.html#beneficios" data-translate="nav_beneficios">Beneficios</a></li>
                <li><a href="faq.html" data-translate="nav_faq">FAQ</a></li>
            </ul>
        </nav>
        <div class="header-actions">
            <div class="language-selector">
                <div class="current-flag">
                    <img id="current-flag-img" src="https://flagcdn.com/co.svg" alt="Colombia Flag" class="flag">
                </div>
                <div class="language-dropdown">
                    <a href="#" data-lang="es"><img src="https://flagcdn.com/co.svg" alt="Bandera Colombia"> Español</a>
                    <a href="#" data-lang="en"><img src="https://flagcdn.com/us.svg" alt="Bandera EE.UU."> English</a>
                    <a href="#" data-lang="de"><img src="https://flagcdn.com/de.svg" alt="Bandera Alemania"> Deutsch</a>
                </div>
            </div>
            <a href="acceder.html" class="header-button" data-translate="acceder_btn">Acceder</a>
        </div>
    </header>

    <main>
        <section class="module-wrapper">
            <div class="container">
                <div class="section-header">
                    <h1 class="section-title" id="moduleTitle"><i class="fa-solid fa-compass"></i> Módulo Lógica, Conjuntos y Coordenadas (C)</h1>
                    <p class="section-subtitle" id="moduleSubtitle">La base del pensamiento estructurado, la clasificación de elementos y la ubicación espacial.</p>
                </div>
                
                <div class="progress-bar-container">
                    <div id="progress-bar" class="progress-bar"></div>
                </div>

                <div id="module-content">

                    <div id="step-1" class="step-content"> 
                        <h2><i class="fa-solid fa-lightbulb"></i> 1. Lógica Matemática: Proposiciones y Conectores</h2>
                        <hr style="margin-top: 15px; border-color: var(--color-border);">

                        <div class="card alert-info">
                            <h3 data-translate="step1_def_header">La Proposición: El Átomo de la Lógica</h3>
                            <p data-translate="step1_def_text1">Una <strong>Proposición</strong> es cualquier afirmación o enunciado que puede ser clasificado sin ambigüedad como <strong>verdadero (V)</strong> o <strong>falso (F)</strong>, pero nunca ambos a la vez.</p>
                            <p data-translate="step1_def_text2">Las preguntas, órdenes o exclamaciones no son proposiciones, ya que no tienen un valor de verdad definido.</p>
                        </div>

                        <div class="card alert-warning">
                            <h3 data-translate="step1_connectors_header">Conectores Lógicos Fundamentales</h3>
                            <p data-translate="step1_connectors_text">Los conectores lógicos se usan para combinar proposiciones simples y formar proposiciones compuestas:</p>
                            <ul>
                                <li><strong data-translate="step1_conj_name">Conjunción (Y / $\land$):</strong> La proposición compuesta es <strong>verdadera</strong> solo si ambas proposiciones simples son verdaderas.</li>
                                <li><strong data-translate="step1_disj_name">Disyunción (O / $\lor$):</strong> La proposición compuesta es <strong>falsa</strong> solo si ambas proposiciones simples son falsas.</li>
                                <li><strong data-translate="step1_neg_name">Negación (NO / $\neg$):</strong> Invierte el valor de verdad de la proposición original.</li>
                            </ul>
                            <div class="example-code">
                                <span class="step-label" data-translate="step1_example_label">Ejemplo:</span><br>
                                P: "El sol es una estrella" (V)<br>
                                Q: "2 + 2 = 5" (F)<br>
                                <strong>$P \land Q$ (P Y Q):</strong> V $\land$ F = <strong>Falso</strong>.
                            </div>
                        </div>
                        
                        <div class="curious-fact">
                            <strong>Dato Curioso:</strong> <span data-translate="step1_curious_fact">La lógica proposicional es la base de la <strong>programación de computadores</strong> y la <strong>electrónica digital</strong>, donde los valores de Verdad/Falso se representan como 1/0.</span>
                        </div>
                    </div>

                    <div id="step-2" class="step-content">
                        <h2 data-translate="step2_title"><i class="fa-solid fa-sitemap"></i> 2. Teoría de Conjuntos: Nociones Básicas</h2>
                        <p class="section-subtitle" data-translate="step2_subtitle">La herramienta para clasificar y agrupar elementos con una característica común.</p>
                        <hr style="margin-top: 15px; border-color: var(--color-border);">

                        <div class="card">
                            <h4 data-translate="step2_def_header">Definición y Pertenencia</h4>
                            <p data-translate="step2_def_text1">Un <strong>Conjunto</strong> es una colección bien definida de objetos (llamados <strong>Elementos</strong>). Los conjuntos se denotan con letras mayúsculas (A, B, C) y sus elementos entre llaves {}.</p>
                            <p data-translate="step2_def_text2">El símbolo $\in$ se usa para indicar <strong>pertenencia</strong> de un elemento a un conjunto, y $\notin$ para no pertenencia. El <strong>Conjunto Vacío</strong>, $\emptyset$, es el conjunto que no contiene elementos.</p>
                        </div>

                        <div class="card alert-success">
                            <h4 data-translate="step2_notation_header">Formas de Expresar un Conjunto</h4>
                            
                            <table class="formula-table">
                                <thead>
                                    <tr>
                                        <th data-translate="step2_table_header_meth">Método</th>
                                        <th data-translate="step2_table_header_desc">Descripción</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong data-translate="step2_table_ext">Por Extensión</strong></td>
                                        <td>Se nombran todos los elementos del conjunto. Ejemplo: A = {1, 3, 5, 7}</td>
                                    </tr>
                                    <tr>
                                        <td><strong data-translate="step2_table_comp">Por Comprensión</strong></td>
                                        <td>Se nombra la característica común de sus elementos. Ejemplo: B = {x | x es un número primo menor que 10}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="curious-fact">
                            <strong>Dato Curioso:</strong> <span data-translate="step2_curious_fact">La Teoría de Conjuntos, desarrollada por Georg Cantor, es tan fundamental que gran parte de las matemáticas modernas (como el cálculo) se basa en sus principios.</span>
                        </div>
                    </div>

                    <div id="step-3" class="step-content">
                        <h2 data-translate="step3_title"><i class="fa-solid fa-people-arrows"></i> 3. Operaciones con Conjuntos: Unión e Intersección</h2>
                        <p class="section-subtitle" data-translate="step3_subtitle">Cómo combinar o encontrar elementos comunes entre dos o más conjuntos.</p>
                        <hr style="margin-top: 15px; border-color: var(--color-border);">
                        
                        <div class="card alert-info">
                            <h4 data-translate="step3_union_header">Unión de Conjuntos ($\cup$)</h4>
                            <p data-translate="step3_union_text1">La <strong>Unión</strong> de dos conjuntos A y B, $A \cup B$, es el conjunto de todos los elementos que pertenecen a A <strong>o</strong> a B (o a ambos). Representa la suma de todos los elementos, sin repetir.</p>
                            <div class="example-code">
                                <span class="step-label" data-translate="step3_example_label">Ejemplo:</span><br>
                                A = {rojo, azul}<br>
                                B = {azul, verde, amarillo}<br>
                                $A \cup B$ = <strong>{rojo, azul, verde, amarillo}</strong>
                            </div>
                        </div>

                        <div class="card alert-danger">
                            <h4 data-translate="step3_inter_header">Intersección de Conjuntos ($\cap$)</h4>
                            <p data-translate="step3_inter_text1">La <strong>Intersección</strong> de dos conjuntos A y B, $A \cap B$, es el conjunto de todos los elementos que pertenecen a A <strong>y</strong> a B a la vez. Representa solo los elementos comunes.</p>
                            <div class="example-code">
                                <span class="step-label" data-translate="step3_example_label">Ejemplo:</span><br>
                                A = {1, 2, 3, 4}<br>
                                B = {3, 4, 5, 6}<br>
                                $A \cap B$ = <strong>{3, 4}</strong>
                            </div>
                        </div>
                        
                        <div class="curious-fact">
                            <strong>Dato Curioso:</strong> <span data-translate="step3_curious_fact">La <strong>Unión</strong> ($\cup$) en conjuntos es equivalente a la <strong>Disyunción (OR)</strong> en lógica. La <strong>Intersección</strong> ($\cap$) es equivalente a la <strong>Conjunción (AND)</strong> en lógica.</span>
                        </div>
                    </div>

                    <div id="step-4" class="step-content">
                        <h2 data-translate="step4_title"><i class="fa-solid fa-map-marked-alt"></i> 4. Sistema de Coordenadas: El Plano Cartesiano</h2>
                        <p class="section-subtitle" data-translate="step4_subtitle">La aplicación geométrica de pares ordenados para ubicar puntos en un plano.</p>
                        <hr style="margin-top: 15px; border-color: var(--color-border);">
                        
                        <div class="card alert-info">
                            <h4 data-translate="step4_def_header">Ejes y Coordenadas</h4>
                            <p data-translate="step4_def_text1">El <strong>Plano Cartesiano</strong> está formado por dos rectas numéricas (ejes) que se cortan perpendicularmente en un punto llamado <strong>Origen (0, 0)</strong>.</p>
                            <ul>
                                <li><strong>Eje X (Horizontal):</strong> Llamado <strong>Abscisas</strong>. Se busca el primer número de la coordenada.</li>
                                <li><strong>Eje Y (Vertical):</strong> Llamado <strong>Ordenadas</strong>. Se busca el segundo número de la coordenada.</li>
                            </ul>
                            <p data-translate="step4_def_text2">La posición de cualquier punto P se describe con un <strong>Par Ordenado (x, y)</strong>, donde <strong>x</strong> es siempre la primera coordenada y <strong>y</strong> la segunda.</p>
                        </div>
                        
                        <h3 data-translate="step4_video_header">Video Explicativo: Plano Cartesiano</h3>
                        <div class="video-container">
                            <iframe width="100%" height="315" src="https://www.youtube.com/embed/kzOzYY-T-50" title="Video de PLANO CARTESIANO Super facil" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                            <small style="display: block; text-align: center; color: var(--color-text-subtle); margin-top: 10px;" data-translate="step4_video_text">Video: Ubicación de puntos y los cuatro cuadrantes del Plano Cartesiano.</small>
                        </div>

                        <div class="card alert-danger">
                            <h4 data-translate="step4_quadrants_header">Los Cuadrantes</h4>
                            <p data-translate="step4_quadrants_text">El Plano Cartesiano se divide en cuatro cuadrantes numerados en sentido antihorario, que definen el signo de las coordenadas:</p>
                            <ul>
                                <li><strong>Cuadrante I:</strong> (+x, +y). Ambos números son positivos.</li>
                                <li><strong>Cuadrante II:</strong> (-x, +y). X negativo, Y positivo.</li>
                                <li><strong>Cuadrante III:</strong> (-x, -y). Ambos números son negativos.</li>
                                <li><strong>Cuadrante IV:</strong> (+x, -y). X positivo, Y negativo.</li>
                            </ul>
                        </div>
                    </div>

                    <div id="step-5" class="step-content">
                        <h2 data-translate="step5_title"><i class="fa-solid fa-graduation-cap"></i> 5. Evaluación Final: ¡Mide tu Conocimiento!</h2>
                        <p class="section-subtitle" data-translate="step5_subtitle">Responde el siguiente Quiz de 5 preguntas para validar tu aprendizaje sobre Lógica, Conjuntos y Coordenadas.</p>
                        <hr style="margin-top: 15px; border-color: var(--color-border);">

                        <form id="quiz-form">
                            <div id="question1">
                                <label for="q1_op1" data-translate="step5_q1_label">¿Qué tipo de enunciado <strong>no</strong> puede ser una Proposición Lógica?</label>
                                <div class="radio-group">
                                    <input type="radio" id="q1_op1" name="question1" value="afirmacion_v">
                                    <label for="q1_op1" class="option-box" data-translate="step5_q1_op1">Afirmación verdadera</label>
                                    <input type="radio" id="q1_op2" name="question1" value="afirmacion_f">
                                    <label for="q1_op2" class="option-box" data-translate="step5_q1_op2">Afirmación falsa</label>
                                    <input type="radio" id="q1_op3" name="question1" value="pregunta">
                                    <label for="q1_op3" class="option-box" data-translate="step5_q1_op3">Pregunta o exclamación</label>
                                    <input type="radio" id="q1_op4" name="question1" value="compuesta">
                                    <label for="q1_op4" class="option-box" data-translate="step5_q1_op4">Proposición compuesta</label>
                                </div>
                            </div>

                            <div id="question2">
                                <label for="q2_input" data-translate="step5_q2_label">Si A = {1, 2, 3} y B = {3, 4, 5}. ¿Cuál es el resultado de la Intersección $A \cap B$ (escríbelo sin llaves y separado por comas)?</label>
                                <input type="text" id="q2_input" name="question2" required>
                            </div>

                            <div id="question3">
                                <label for="q3_op1" data-translate="step5_q3_label">¿Cómo se llama la coordenada vertical del Plano Cartesiano?</label>
                                <div class="radio-group">
                                    <input type="radio" id="q3_op1" name="question3" value="abscisa">
                                    <label for="q3_op1" class="option-box" data-translate="step5_q3_op1">Abscisa (Eje X)</label>
                                    <input type="radio" id="q3_op2" name="question3" value="ordenada">
                                    <label for="q3_op2" class="option-box" data-translate="step5_q3_op2">Ordenada (Eje Y)</label>
                                    <input type="radio" id="q3_op3" name="question3" value="origen">
                                    <label for="q3_op3" class="option-box" data-translate="step5_q3_op3">Origen</label>
                                    <input type="radio" id="q3_op4" name="question3" value="cuadrante">
                                    <label for="q3_op4" class="option-box" data-translate="step5_q3_op4">Cuadrante</label>
                                </div>
                            </div>

                            <div id="question4">
                                <label for="q4_true" data-translate="step5_q4_label">Verdadero o Falso: El punto P(-5, 8) se encuentra ubicado en el Cuadrante IV.</label>
                                <div class="true-false-group">
                                    <input type="radio" id="q4_true" name="question4" value="true" required>
                                    <label for="q4_true" class="option-box" data-translate="step5_q4_op1">Verdadero</label>
                                    <input type="radio" id="q4_false" name="question4" value="false">
                                    <label for="q4_false" class="option-box" data-translate="step5_q4_op2">Falso</label>
                                </div>
                            </div>

                            <div id="question5">
                                <label for="q5_input" data-translate="step5_q5_label">¿Qué conjunto se está expresando por <strong>Extensión</strong>: A = {x | x es vocal} o B = {a, e, i, o, u}?</label>
                                <input type="text" id="q5_input" name="question5" required placeholder="Escribe 'A' o 'B'">
                            </div>

                            <div id="quiz-result-summary" class=""> </div>
                            <button type="submit" class="btn btn-primary" style="margin-top: 30px;" data-translate="step5_submit_btn">
                                <i class="fa-solid fa-clipboard-check"></i> Evaluar Respuestas
                            </button>
                        </form>
                    </div>

                </div>

                <div class="step-navigation">
                    <button id="prev-btn" class="btn btn-outline" disabled><i class="fa-solid fa-arrow-left"></i> Anterior</button>
                    <button id="next-btn" class="btn btn-primary">Siguiente <i class="fa-solid fa-arrow-right"></i></button>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <h5>EDUCARD S.A.S.</h5>
                    <p>Somos una empresa dedicada a fortalecer las competencias académicas en matemáticas y tecnología, ofreciendo módulos interactivos y personalizados para el crecimiento de los estudiantes.</p>
                    <p data-translate="footer_made_with"><strong>Hecho con <i class="fa-solid fa-heart" style="color: #ef4444;"></i> en Cajicá, Cundinamarca.</strong></p>
                </div>
                <div class="footer-links">
                    <h5>Productos</h5>
                    <ul>
                        <li><a href="#">Módulos de Refuerzo</a></li>
                        <li><a href="#">Simulacros Saber</a></li>
                        <li><a href="#">Tutorías Personalizadas</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h5>Compañía</h5>
                    <ul>
                        <li><a href="#">Acerca de Nosotros</a></li>
                        <li><a href="#">Política de Privacidad</a></li>
                        <li><a href="#">Términos y Condiciones</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h5>Soporte</h5>
                    <ul>
                        <li><a href="faq.html">FAQ</a></li>
                        <li><a href="mailto:contacto@educard.co">Contacto por Email</a></li>
                        <li><a href="tel:+573001234567">Llamar (300 123 4567)</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                &copy; 2024 EDUCARD S.A.S. Todos los derechos reservados.
            </div>
        </div>
    </footer>

    <script>
        // =========================================
        // --- LÓGICA DEL MÓDULO INTERACTIVO ---
        // =========================================

        document.addEventListener('DOMContentLoaded', () => {

            // --- 1. LÓGICA DE TRADUCCIÓN (Contenido para el Módulo 5: Lógica, Conjuntos y Coordenadas) ---

            const languageData = {
                es: {
                    nav_inicio: "Inicio", nav_refuerzos: "Refuerzos", nav_nosotros: "Nosotros", nav_beneficios: "Beneficios", nav_faq: "FAQ", acceder_btn: "Acceder", 
                    
                    // Step 1
                    step1_def_header: "La Proposición: El Átomo de la Lógica",
                    step1_def_text1: "Una <strong>Proposición</strong> es cualquier afirmación o enunciado que puede ser clasificado sin ambigüedad como <strong>verdadero (V)</strong> o <strong>falso (F)</strong>, pero nunca ambos a la vez.",
                    step1_def_text2: "Las preguntas, órdenes o exclamaciones no son proposiciones, ya que no tienen un valor de verdad definido.",
                    step1_connectors_header: "Conectores Lógicos Fundamentales",
                    step1_connectors_text: "Los conectores lógicos se usan para combinar proposiciones simples y formar proposiciones compuestas:",
                    step1_conj_name: "Conjunción (Y / $\\land$):",
                    step1_disj_name: "Disyunción (O / $\\lor$):",
                    step1_neg_name: "Negación (NO / $\\neg$):",
                    step1_example_label: "Ejemplo:",
                    step1_curious_fact: "La lógica proposicional es la base de la <strong>programación de computadores</strong> y la <strong>electrónica digital</strong>, donde los valores de Verdad/Falso se representan como 1/0.",
                    
                    // Step 2
                    step2_title: "2. Teoría de Conjuntos: Nociones Básicas",
                    step2_subtitle: "La herramienta para clasificar y agrupar elementos con una característica común.",
                    step2_def_header: "Definición y Pertenencia",
                    step2_def_text1: "Un <strong>Conjunto</strong> es una colección bien definida de objetos (llamados <strong>Elementos</strong>). Los conjuntos se denotan con letras mayúsculas (A, B, C) y sus elementos entre llaves {}.",
                    step2_def_text2: "El símbolo $\\in$ se usa para indicar <strong>pertenencia</strong> de un elemento a un conjunto, y $\\notin$ para no pertenencia. El <strong>Conjunto Vacío</strong>, $\\emptyset$, es el conjunto que no contiene elementos.",
                    step2_notation_header: "Formas de Expresar un Conjunto",
                    step2_table_header_meth: "Método",
                    step2_table_header_desc: "Descripción",
                    step2_table_ext: "Por Extensión",
                    step2_table_comp: "Por Comprensión",
                    step2_curious_fact: "La Teoría de Conjuntos, desarrollada por Georg Cantor, es tan fundamental que gran parte de las matemáticas modernas (como el cálculo) se basa en sus principios.",
                    
                    // Step 3 
                    step3_title: "3. Operaciones con Conjuntos: Unión e Intersección",
                    step3_subtitle: "Cómo combinar o encontrar elementos comunes entre dos o más conjuntos.",
                    step3_union_header: "Unión de Conjuntos ($\\cup$)",
                    step3_union_text1: "La <strong>Unión</strong> de dos conjuntos A y B, $A \\cup B$, es el conjunto de todos los elementos que pertenecen a A <strong>o</strong> a B (o a ambos). Representa la suma de todos los elementos, sin repetir.",
                    step3_inter_header: "Intersección de Conjuntos ($\\cap$)",
                    step3_inter_text1: "La <strong>Intersección</strong> de dos conjuntos A y B, $A \\cap B$, es el conjunto de todos los elementos que pertenecen a A <strong>y</strong> a B a la vez. Representa solo los elementos comunes.",
                    step3_example_label: "Ejemplo:",
                    step3_curious_fact: "La <strong>Unión</strong> ($\\cup$) en conjuntos es equivalente a la <strong>Disyunción (OR)</strong> en lógica. La <strong>Intersección</strong> ($\\cap$) es equivalente a la <strong>Conjunción (AND)</strong> en lógica.",

                    // Step 4 
                    step4_title: "4. Sistema de Coordenadas: El Plano Cartesiano",
                    step4_subtitle: "La aplicación geométrica de pares ordenados para ubicar puntos en un plano.",
                    step4_def_header: "Ejes y Coordenadas",
                    step4_def_text1: "El <strong>Plano Cartesiano</strong> está formado por dos rectas numéricas (ejes) que se cortan perpendicularmente en un punto llamado <strong>Origen (0, 0)</strong>.",
                    step4_def_text2: "La posición de cualquier punto P se describe con un <strong>Par Ordenado (x, y)</strong>, donde <strong>x</strong> es siempre la primera coordenada y <strong>y</strong> la segunda.",
                    step4_video_header: "Video Explicativo: Plano Cartesiano",
                    step4_video_text: "Video: Ubicación de puntos y los cuatro cuadrantes del Plano Cartesiano.",
                    step4_quadrants_header: "Los Cuadrantes",
                    step4_quadrants_text: "El Plano Cartesiano se divide en cuatro cuadrantes numerados en sentido antihorario, que definen el signo de las coordenadas:",

                    // Step 5
                    step5_title: "5. Evaluación Final: ¡Mide tu Conocimiento!",
                    step5_subtitle: "Responde el siguiente Quiz de 5 preguntas para validar tu aprendizaje sobre Lógica, Conjuntos y Coordenadas.",
                    step5_q1_label: "¿Qué tipo de enunciado <strong>no</strong> puede ser una Proposición Lógica?",
                    step5_q1_op1: "Afirmación verdadera", step5_q1_op2: "Afirmación falsa", step5_q1_op3: "Pregunta o exclamación", step5_q1_op4: "Proposición compuesta",
                    step5_q2_label: "Si A = {1, 2, 3} y B = {3, 4, 5}. ¿Cuál es el resultado de la Intersección $A \\cap B$ (escríbelo sin llaves y separado por comas)?",
                    step5_q3_label: "¿Cómo se llama la coordenada vertical del Plano Cartesiano?",
                    step5_q3_op1: "Abscisa (Eje X)", step5_q3_op2: "Ordenada (Eje Y)", step5_q3_op3: "Origen", step5_q3_op4: "Cuadrante",
                    step5_q4_label: "Verdadero o Falso: El punto P(-5, 8) se encuentra ubicado en el Cuadrante IV.",
                    step5_q4_op1: "Verdadero", step5_q4_op2: "Falso",
                    step5_q5_label: "¿Qué conjunto se está expresando por <strong>Extensión</strong>: A = {x | x es vocal} o B = {a, e, i, o, u}?",
                    step5_submit_btn: "Evaluar Respuestas",
                    
                    // Quiz Feedback
                    quiz_feedback_perfect: `<i class="fa-solid fa-star"></i> ¡DOMINIO TOTAL! {score} de {total} correctas. Eres un maestro de la Lógica y las Coordenadas.`,
                    quiz_feedback_good: `<i class="fa-solid fa-thumbs-up"></i> ¡Muy Bien! {score} de {total} correctas. Revisa los errores marcados para refuerzo.`,
                    quiz_feedback_poor: `<i class="fa-solid fa-frown"></i> Resultado: {score} de {total} correctas. Regresa a la sección de Teoría, ¡aún queda trabajo por hacer!`,

                    // Footer
                    footer_made_with: "<strong>Hecho con <i class=\"fa-solid fa-heart\" style=\"color: #ef4444;\"></i> en Cajicá, Cundinamarca.</strong>"
                },
                // --- TRADUCCIONES EN INGLÉS ---
                en: {
                    nav_inicio: "Home", nav_refuerzos: "Reinforcements", nav_nosotros: "About Us", nav_beneficios: "Benefits", nav_faq: "FAQ", acceder_btn: "Access", 
                    
                    // Step 1
                    step1_def_header: "The Proposition: The Atom of Logic",
                    step1_def_text1: "A <strong>Proposition</strong> is any statement or sentence that can be unambiguously classified as <strong>true (T)</strong> or <strong>false (F)</strong>, but never both at the same time.",
                    step1_def_text2: "Questions, commands, or exclamations are not propositions, as they do not have a defined truth value.",
                    step1_connectors_header: "Fundamental Logical Connectors",
                    step1_connectors_text: "Logical connectors are used to combine simple propositions to form compound propositions:",
                    step1_conj_name: "Conjunction (AND / $\\land$):",
                    step1_disj_name: "Disjunction (OR / $\\lor$):",
                    step1_neg_name: "Negation (NOT / $\\neg$):",
                    step1_example_label: "Example:",
                    step1_curious_fact: "Propositional logic is the basis of <strong>computer programming</strong> and <strong>digital electronics</strong>, where Truth/False values are represented as 1/0.",
                    
                    // Step 2
                    step2_title: "2. Set Theory: Basic Notions",
                    step2_subtitle: "The tool for classifying and grouping elements with a common characteristic.",
                    step2_def_header: "Definition and Membership",
                    step2_def_text1: "A <strong>Set</strong> is a well-defined collection of objects (called <strong>Elements</strong>). Sets are denoted by capital letters (A, B, C) and their elements enclosed in braces {}.",
                    step2_def_text2: "The symbol $\\in$ is used to indicate <strong>membership</strong> of an element in a set, and $\\notin$ for non-membership. The <strong>Empty Set</strong>, $\\emptyset$, is the set that contains no elements.",
                    step2_notation_header: "Ways to Express a Set",
                    step2_table_header_meth: "Method",
                    step2_table_header_desc: "Description",
                    step2_table_ext: "Roster Method (Extension)",
                    step2_table_comp: "Set-Builder Notation (Comprehension)",
                    step2_curious_fact: "Set Theory, developed by Georg Cantor, is so fundamental that much of modern mathematics (like calculus) is based on its principles.",
                    
                    // Step 3 
                    step3_title: "3. Set Operations: Union and Intersection",
                    step3_subtitle: "How to combine or find common elements between two or more sets.",
                    step3_union_header: "Set Union ($\\cup$)",
                    step3_union_text1: "The <strong>Union</strong> of two sets A and B, $A \\cup B$, is the set of all elements that belong to A <strong>or</strong> to B (or both). It represents the sum of all elements, without repetition.",
                    step3_inter_header: "Set Intersection ($\\cap$)",
                    step3_inter_text1: "The <strong>Intersection</strong> of two sets A and B, $A \\cap B$, is the set of all elements that belong to A <strong>and</strong> to B simultaneously. It represents only the common elements.",
                    step3_example_label: "Example:",
                    step3_curious_fact: "The <strong>Union</strong> ($\\cup$) in sets is equivalent to the <strong>Disjunction (OR)</strong> in logic. The <strong>Intersection</strong> ($\\cap$) is equivalent to the <strong>Conjunction (AND)</strong> in logic.",

                    // Step 4 
                    step4_title: "4. Coordinate System: The Cartesian Plane",
                    step4_subtitle: "The geometric application of ordered pairs to locate points in a plane.",
                    step4_def_header: "Axes and Coordinates",
                    step4_def_text1: "The <strong>Cartesian Plane</strong> is formed by two number lines (axes) that intersect perpendicularly at a point called the <strong>Origin (0, 0)</strong>.",
                    step4_def_text2: "The position of any point P is described by an <strong>Ordered Pair (x, y)</strong>, where <strong>x</strong> is always the first coordinate and <strong>y</strong> the second.",
                    step4_video_header: "Explanatory Video: Cartesian Plane",
                    step4_video_text: "Video: Location of points and the four quadrants of the Cartesian Plane.",
                    step4_quadrants_header: "The Quadrants",
                    step4_quadrants_text: "The Cartesian Plane is divided into four quadrants numbered counterclockwise, which define the sign of the coordinates:",

                    // Step 5
                    step5_title: "5. Final Evaluation: Measure Your Knowledge!",
                    step5_subtitle: "Answer the following 5-question Quiz to validate your learning about Logic, Sets, and Coordinates.",
                    step5_q1_label: "What type of statement <strong>cannot</strong> be a Logical Proposition?",
                    step5_q1_op1: "True statement", step5_q1_op2: "False statement", step5_q1_op3: "Question or exclamation", step5_q1_op4: "Compound proposition",
                    step5_q2_label: "If A = {1, 2, 3} and B = {3, 4, 5}. What is the result of the Intersection $A \\cap B$ (write it without braces and separated by commas)?",
                    step5_q3_label: "What is the vertical coordinate of the Cartesian Plane called?",
                    step5_q3_op1: "Abscissa (X-axis)", step5_q3_op2: "Ordinate (Y-axis)", step5_q3_op3: "Origin", step5_q3_op4: "Quadrant",
                    step5_q4_label: "True or False: The point P(-5, 8) is located in Quadrant IV.",
                    step5_q4_op1: "True", step5_q4_op2: "False",
                    step5_q5_label: "Which set is expressed by the <strong>Roster Method (Extension)</strong>: A = {x | x is a vowel} or B = {a, e, i, o, u}?",
                    step5_submit_btn: "Evaluate Answers",
                    
                    // Quiz Feedback
                    quiz_feedback_perfect: `<i class="fa-solid fa-star"></i> TOTAL DOMINATION! {score} out of {total} correct. You are a Master of Logic and Coordinates.`,
                    quiz_feedback_good: `<i class="fa-solid fa-thumbs-up"></i> Very Good! {score} out of {total} correct. Review the marked errors for reinforcement.`,
                    quiz_feedback_poor: `<i class="fa-solid fa-frown"></i> Result: {score} out of {total} correct. Go back to the Theory section, there is still work to be done!`,

                    // Footer
                    footer_made_with: "<strong>Made with <i class=\"fa-solid fa-heart\" style=\"color: #ef4444;\"></i> in Cajicá, Cundinamarca.</strong>"
                },
                // --- TRADUCCIONES EN ALEMÁN ---
                de: {
                    nav_inicio: "Startseite", nav_refuerzos: "Nachhilfe", nav_nosotros: "Über Uns", nav_beneficios: "Vorteile", nav_faq: "FAQ", acceder_btn: "Zugang", 
                    
                    // Step 1
                    step1_def_header: "Die Aussage: Das Atom der Logik",
                    step1_def_text1: "Eine <strong>Aussage (Proposición)</strong> ist jede Behauptung oder jeder Satz, der eindeutig als <strong>wahr (W)</strong> oder <strong>falsch (F)</strong> klassifiziert werden kann, aber niemals beides gleichzeitig.",
                    step1_def_text2: "Fragen, Befehle oder Ausrufe sind keine Aussagen, da sie keinen definierten Wahrheitswert haben.",
                    step1_connectors_header: "Fundamentale Logische Konnektoren",
                    step1_connectors_text: "Logische Konnektoren werden verwendet, um einfache Aussagen zu verknüpfen und zusammengesetzte Aussagen zu bilden:",
                    step1_conj_name: "Konjunktion (UND / $\\land$):",
                    step1_disj_name: "Disjunktion (ODER / $\\lor$):",
                    step1_neg_name: "Negation (NICHT / $\\neg$):",
                    step1_example_label: "Beispiel:",
                    step1_curious_fact: "Die Aussagenlogik ist die Grundlage der <strong>Computerprogrammierung</strong> und der <strong>digitalen Elektronik</strong>, wobei die Werte Wahr/Falsch als 1/0 dargestellt werden.",
                    
                    // Step 2
                    step2_title: "2. Mengenlehre: Grundbegriffe",
                    step2_subtitle: "Das Werkzeug zur Klassifizierung und Gruppierung von Elementen mit einer gemeinsamen Eigenschaft.",
                    step2_def_header: "Definition und Zugehörigkeit",
                    step2_def_text1: "Eine <strong>Menge (Conjunto)</strong> ist eine wohldefinierte Sammlung von Objekten (genannt <strong>Elemente</strong>). Mengen werden mit Großbuchstaben (A, B, C) und ihre Elemente in geschweiften Klammern {} dargestellt.",
                    step2_def_text2: "Das Symbol $\\in$ wird verwendet, um die <strong>Zugehörigkeit</strong> eines Elements zu einer Menge anzuzeigen, und $\\notin$ für die Nicht-Zugehörigkeit. Die <strong>Leere Menge</strong>, $\\emptyset$, ist die Menge, die keine Elemente enthält.",
                    step2_notation_header: "Darstellungsformen einer Menge",
                    step2_table_header_meth: "Methode",
                    step2_table_header_desc: "Beschreibung",
                    step2_table_ext: "Aufzählende Form (Extension)",
                    step2_table_comp: "Beschreibende Form (Comprehension)",
                    step2_curious_fact: "Die von Georg Cantor entwickelte Mengenlehre ist so grundlegend, dass ein Großteil der modernen Mathematik (wie die Analysis) auf ihren Prinzipien basiert.",
                    
                    // Step 3 
                    step3_title: "3. Mengenoperationen: Vereinigung und Durchschnitt",
                    step3_subtitle: "Wie man Elemente kombiniert oder gemeinsame Elemente zwischen zwei oder mehr Mengen findet.",
                    step3_union_header: "Mengenvereinigung ($\\cup$)",
                    step3_union_text1: "Die <strong>Vereinigung</strong> von zwei Mengen A und B, $A \\cup B$, ist die Menge aller Elemente, die zu A <strong>oder</strong> zu B gehören (oder zu beiden). Es repräsentiert die Summe aller Elemente, ohne Wiederholung.",
                    step3_inter_header: "Mengendurchschnitt ($\\cap$)",
                    step3_inter_text1: "Der <strong>Durchschnitt</strong> von zwei Mengen A und B, $A \\cap B$, ist die Menge aller Elemente, die gleichzeitig zu A <strong>und</strong> zu B gehören. Es repräsentiert nur die gemeinsamen Elemente.",
                    step3_example_label: "Beispiel:",
                    step3_curious_fact: "Die <strong>Vereinigung</strong> ($\\cup$) in Mengen entspricht der <strong>Disjunktion (OR)</strong> in der Logik. Der <strong>Durchschnitt</strong> ($\\cap$) entspricht der <strong>Konjunktion (AND)</strong> in der Logik.",

                    // Step 4 
                    step4_title: "4. Koordinatensystem: Die Kartesische Ebene",
                    step4_subtitle: "Die geometrische Anwendung von geordneten Paaren zur Lokalisierung von Punkten in einer Ebene.",
                    step4_def_header: "Achsen und Koordinaten",
                    step4_def_text1: "Die <strong>Kartesische Ebene</strong> wird durch zwei Zahlenlinien (Achsen) gebildet, die sich rechtwinklig in einem Punkt namens <strong>Ursprung (0, 0)</strong> schneiden.",
                    step4_def_text2: "Die Position eines beliebigen Punktes P wird durch ein <strong>geordnetes Paar (x, y)</strong> beschrieben, wobei <strong>x</strong> immer die erste Koordinate und <strong>y</strong> die zweite ist.",
                    step4_video_header: "Erklärvideo: Kartesische Ebene",
                    step4_video_text: "Video: Lokalisierung von Punkten und die vier Quadranten der Kartesischen Ebene.",
                    step4_quadrants_header: "Die Quadranten",
                    step4_quadrants_text: "Die Kartesische Ebene ist in vier Quadranten unterteilt, die gegen den Uhrzeigersinn nummeriert sind und das Vorzeichen der Koordinaten definieren:",

                    // Step 5
                    step5_title: "5. Abschlussbewertung: Messen Sie Ihr Wissen!",
                    step5_subtitle: "Beantworten Sie das folgende 5-Fragen-Quiz, um Ihr Wissen über Logik, Mengen und Koordinaten zu überprüfen.",
                    step5_q1_label: "Welche Art von Aussage <strong>kann nicht</strong> eine logische Aussage sein?",
                    step5_q1_op1: "Wahre Behauptung", step5_q1_op2: "Falsche Behauptung", step5_q1_op3: "Frage oder Ausruf", step5_q1_op4: "Zusammengesetzte Aussage",
                    step5_q2_label: "Wenn A = {1, 2, 3} und B = {3, 4, 5}. Was ist das Ergebnis des Durchschnitts $A \\cap B$ (schreiben Sie es ohne Klammern und durch Kommas getrennt)?",
                    step5_q3_label: "Wie wird die vertikale Koordinate der Kartesischen Ebene genannt?",
                    step5_q3_op1: "Abszisse (X-Achse)", step5_q3_op2: "Ordinate (Y-Achse)", step5_q3_op3: "Ursprung", step5_q3_op4: "Quadrant",
                    step5_q4_label: "Wahr oder Falsch: Der Punkt P(-5, 8) befindet sich im Quadranten IV.",
                    step5_q4_op1: "Wahr", step5_q4_op2: "Falsch",
                    step5_q5_label: "Welche Menge wird in <strong>Aufzählender Form (Extension)</strong> ausgedrückt: A = {x | x ist ein Vokal} oder B = {a, e, i, o, u}?",
                    step5_submit_btn: "Antworten Auswerten",
                    
                    // Quiz Feedback
                    quiz_feedback_perfect: `<i class="fa-solid fa-star"></i> TOTALE BEHERRSCHUNG! {score} von {total} richtig. Sie sind ein Meister der Logik und Koordinaten.`,
                    quiz_feedback_good: `<i class="fa-solid fa-thumbs-up"></i> Sehr Gut! {score} von {total} richtig. Überprüfen Sie die markierten Fehler zur Vertiefung.`,
                    quiz_feedback_poor: `<i class="fa-solid fa-frown"></i> Ergebnis: {score} von {total} richtig. Gehen Sie zurück zum Theorieabschnitt, es gibt noch Arbeit zu erledigen!`,

                    // Footer
                    footer_made_with: "<strong>Made with <i class=\"fa-solid fa-heart\" style=\"color: #ef4444;\"></i> in Cajicá, Cundinamarca.</strong>"
                }
            }; 

            function applyTranslation(lang) {
                const translations = languageData[lang];
                if (!translations) return;

                document.getElementById('pageTitle').textContent = lang === 'es' 
                    ? "Módulo Ultra-Dinámico: Lógica, Conjuntos y Coordenadas (C) | EDUCARD SAS" 
                    : lang === 'en' 
                    ? "Dynamic Module: Logic, Sets, and Coordinates (C) | EDUCARD SAS"
                    : "Dynamisches Modul: Logik, Mengen und Koordinaten (C) | EDUCARD SAS";

                document.getElementById('moduleTitle').innerHTML = lang === 'es' 
                    ? '<i class="fa-solid fa-compass"></i> Módulo Lógica, Conjuntos y Coordenadas (C)'
                    : lang === 'en'
                    ? '<i class="fa-solid fa-compass"></i> Logic, Sets, and Coordinates Module (C)'
                    : '<i class="fa-solid fa-compass"></i> Modul Logik, Mengen und Koordinaten (C)';
                
                document.getElementById('moduleSubtitle').textContent = lang === 'es'
                    ? "La base del pensamiento estructurado, la clasificación de elementos y la ubicación espacial."
                    : lang === 'en'
                    ? "The basis of structured thinking, the classification of elements, and spatial location."
                    : "Die Grundlage des strukturierten Denkens, der Klassifizierung von Elementen und der räumlichen Lokalisierung.";


                document.querySelectorAll('[data-translate]').forEach(element => {
                    const key = element.dataset.translate;
                    if (translations[key]) {
                        element.innerHTML = translations[key]; 
                    }
                });
                
                // Actualizar la bandera (simulación)
                const flagImg = document.getElementById('current-flag-img');
                if (lang === 'es') flagImg.src = 'https://flagcdn.com/co.svg';
                else if (lang === 'en') flagImg.src = 'https://flagcdn.com/us.svg';
                else if (lang === 'de') flagImg.src = 'https://flagcdn.com/de.svg';
            }

            // 2. Lógica de Navegación (Copiada de modulo1.html)
            const steps = [
                document.getElementById('step-1'),
                document.getElementById('step-2'),
                document.getElementById('step-3'),
                document.getElementById('step-4'),
                document.getElementById('step-5')
            ];
            const totalSteps = steps.length;
            let currentStep = 0;
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const progressBar = document.getElementById('progress-bar');
            
            // Manejar el clic fuera del dropdown para cerrarlo
            document.body.addEventListener('click', (e) => {
                if (!e.target.closest('.language-selector')) {
                    document.querySelectorAll('.language-dropdown').forEach(d => d.classList.remove('active'));
                }
            });

            // Lógica para mostrar/ocultar pasos y actualizar la barra
            function showStep(stepIndex) {
                // Validación para evitar pasos fuera de rango
                if (stepIndex < 0 || stepIndex >= totalSteps) return;

                // Ocultar todos los pasos y remover la clase 'active'
                steps.forEach((step, index) => {
                    if (index === currentStep && index !== stepIndex) {
                         // Transición de salida
                        step.style.opacity = '0';
                        step.style.transform = stepIndex > currentStep ? 'scale(0.95) translateX(-20px)' : 'scale(0.95) translateX(20px)';
                        setTimeout(() => {
                            step.classList.remove('active');
                            
                            // Transición de entrada del nuevo paso
                            currentStep = stepIndex;
                            const newStep = steps[currentStep];
                            newStep.classList.add('active');
                            newStep.style.opacity = '1';
                            newStep.style.transform = 'scale(1) translateX(0)';
                            updateNavigation();
                        }, 600); // Duración de la animación
                    } else if (index === stepIndex && index === currentStep) {
                        // Si es el primer paso o si el índice no ha cambiado, solo actualiza la navegación
                        steps[stepIndex].classList.add('active');
                        steps[stepIndex].style.opacity = '1';
                        steps[stepIndex].style.transform = 'scale(1) translateX(0)';
                        currentStep = stepIndex;
                        updateNavigation();
                    }
                });

                if (currentStep !== stepIndex) {
                     // Solo si el paso es realmente diferente (para evitar la doble animación)
                    currentStep = stepIndex;
                    updateNavigation();
                }
               
            }

            function updateNavigation() {
                prevBtn.disabled = currentStep === 0;
                // El botón Siguiente se deshabilita en el paso final (que es el quiz)
                nextBtn.disabled = currentStep === totalSteps - 1; 

                // Actualizar la barra de progreso. El progreso está basado en el paso que se está VISUALIZANDO.
                // 5 pasos: 20%, 40%, 60%, 80%, 100%
                const progressPercentage = ((currentStep + 1) / totalSteps) * 100;
                progressBar.style.width = `${progressPercentage}%`;

                // Subir al tope del módulo
                document.querySelector('.module-wrapper').scrollIntoView({ behavior: 'smooth', block: 'start' });
            }

            // Event Listeners para navegación
            if (prevBtn) {
                prevBtn.addEventListener('click', () => {
                    if (currentStep > 0) {
                        showStep(currentStep - 1);
                    }
                });
            }
            if (nextBtn) {
                nextBtn.addEventListener('click', () => {
                    if (currentStep < totalSteps - 1) {
                        showStep(currentStep + 1);
                    }
                });
            }

            // --- 3. LÓGICA DE EVALUACIÓN DEL QUIZ (Actualizada para Módulo 5) ---
            const quizForm = document.getElementById('quiz-form');
            const quizSummaryDiv = document.getElementById('quiz-result-summary');

            // Respuestas correctas para el módulo de Lógica, Conjuntos y Coordenadas
            const correctAnswers = {
                question1: 'pregunta',    // Preguntas, órdenes y exclamaciones no tienen valor de verdad.
                question2: '3,4',         // Intersección: elementos comunes
                question3: 'ordenada',    // Eje Y (vertical) es la Ordenada.
                question4: 'false',       // P(-5, 8) es (-x, +y), Cuadrante II.
                question5: 'b'            // Extensión nombra los elementos.
            };

            if (quizForm) {
                quizForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    evaluateQuiz();
                });
            }

            function normalizeInput(value) {
                // Normaliza para comparar números y texto
                return value.toString().trim().toLowerCase()
                            .replace(/[^\w\s,]/gi, '') // Quita caracteres especiales excepto coma
                            .replace(/\s/g, ''); // Quita espacios en blanco
            }
            
            function evaluateQuiz() {
                let score = 0;
                const totalQuestions = Object.keys(correctAnswers).length;

                // Limpiar estilos anteriores
                document.querySelectorAll('.option-box').forEach(box => {
                    box.classList.remove('correct-answer', 'incorrect-answer');
                });
                document.querySelectorAll('#quiz-form input:not([type="radio"])').forEach(input => {
                    input.classList.remove('correct-answer', 'incorrect-answer');
                });

                for (const [key, correctValue] of Object.entries(correctAnswers)) {
                    const questionElement = document.getElementById(key);
                    if (!questionElement) continue;
                    let userAnswer = null;
                    let isCorrect = false;

                    // Lógica para preguntas de tipo 'radio' (opción única)
                    if (questionElement.querySelector('input[type="radio"]')) {
                        const checkedInput = questionElement.querySelector('input[type="radio"]:checked');
                        if (checkedInput) {
                            userAnswer = normalizeInput(checkedInput.value);
                            isCorrect = userAnswer === normalizeInput(correctValue);
                            
                            // Aplicar estilo al contenedor de la opción
                            questionElement.querySelectorAll('input[type="radio"]').forEach(radioInput => {
                                const boxLabel = document.querySelector(`label[for="${radioInput.id}"]`);
                                if (!boxLabel) return;

                                const normalizedRadioValue = normalizeInput(radioInput.value);
                                if (normalizedRadioValue === userAnswer) {
                                    boxLabel.classList.add(isCorrect ? 'correct-answer' : 'incorrect-answer');
                                } else if (normalizedRadioValue === normalizeInput(correctValue)) {
                                    // Marcar la respuesta correcta (solo si la del usuario es incorrecta)
                                    if (!isCorrect) {
                                        boxLabel.classList.add('correct-answer');
                                    }
                                }
                            });
                        }
                    } 
                    // Lógica para preguntas de tipo 'text' o 'number'
                    else {
                        const inputElement = questionElement.querySelector('input, select');
                        if (inputElement) {
                            userAnswer = normalizeInput(inputElement.value);
                            isCorrect = userAnswer === normalizeInput(correctValue);
                            
                            // Caso especial para la pregunta de Intersección (orden de números)
                            if (key === 'question2') {
                                const userArray = userAnswer.split(',').sort().join(',');
                                const correctArray = normalizeInput(correctValue).split(',').sort().join(',');
                                isCorrect = userArray === correctArray;
                            }


                            if (isCorrect) {
                                inputElement.classList.add('correct-answer');
                            } else {
                                inputElement.classList.add('incorrect-answer');
                            }
                        }
                    }

                    if (isCorrect) {
                        score++;
                    }
                }

                // Mostrar el resumen del resultado
                displayQuizSummary(score, totalQuestions);
            }

            function displayQuizSummary(score, totalQuestions) {
                quizSummaryDiv.style.display = 'block';
                quizSummaryDiv.classList.remove('summary-success', 'summary-fail');
                let feedbackText;
                let lang = localStorage.getItem('educardLang') || 'es';
                const translations = languageData[lang];

                if (score === totalQuestions) {
                    quizSummaryDiv.classList.add('summary-success');
                    feedbackText = translations.quiz_feedback_perfect.replace('{score}', score).replace('{total}', totalQuestions);
                } else if (score >= 3) { // 3 o más correctas
                    quizSummaryDiv.classList.add('summary-success');
                    feedbackText = translations.quiz_feedback_good.replace('{score}', score).replace('{total}', totalQuestions);
                } else {
                    quizSummaryDiv.classList.add('summary-fail');
                    feedbackText = translations.quiz_feedback_poor.replace('{score}', score).replace('{total}', totalQuestions);
                }
                
                quizSummaryDiv.innerHTML = feedbackText;
            }

            // --- 4. INICIALIZACIÓN ---
            
            // Lógica para el selector de idioma (copiado de modulo1.html)
            document.querySelectorAll('.language-selector').forEach(selector => {
                const currentFlag = selector.querySelector('.current-flag');
                const dropdown = selector.querySelector('.language-dropdown');
                
                // Si el selector no está activo, no tiene evento click para abrir
                currentFlag.addEventListener('click', (e) => {
                    e.stopPropagation(); // Evita que se cierre por el body.click
                    // Cerrar otros dropdowns antes de abrir este
                    document.querySelectorAll('.language-dropdown').forEach(d => {
                        if (d !== dropdown) d.classList.remove('active');
                    });
                    dropdown.classList.toggle('active');
                });

                // Manejar la selección de idioma dentro del dropdown
                selector.querySelectorAll('.language-dropdown a').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const newLang = link.dataset.lang;
                        applyTranslation(newLang);
                        localStorage.setItem('educardLang', newLang); // Guardar la preferencia
                        document.querySelectorAll('.language-dropdown').forEach(d => d.classList.remove('active'));
                    });
                });
            });

            // Aplicar traducción inicial (o cargar preferencia)
            const savedLang = localStorage.getItem('educardLang') || 'es';
            applyTranslation(savedLang);

            // 3. Inicializar Módulo de Pasos (Ejecuta la función de navegación)
            if (steps.length > 0) {
                showStep(0);
            }
        });
    </script>

</body>
</html>